<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta property="og:url" content="https://xakep.ru/2019/11/21/amp-xss/"/>
    <meta property="og:site_name" content="«Хакер»"/>
    <meta property="article:published_time" content="2019-11-21T08:05:29+00:00"/>
    <meta property="og:title" content="Разработчики Google исправили уязвимость, связанную с динамическими сообщениями в Gmail"/>
    <meta property="og:description" content="ИБ-специалист заработал 5000 долларов, выявив XSS-уязвимость, связанную с динамическими сообщениями в Gmail."/>
  </head>
  <body>
    <article>
      <h1>Разработчики Google исправили уязвимость, связанную с динамическими сообщениями в Gmail</h1>
      <address><time datetime="2019-11-21T08:05:29+00:00">21 Nov 2019, 08:05</time> by <a rel="author" href="https://xakep.ru/" target="_blank">Мария Нефёдова</a></address>
      <p>ИБ-специалист Михал Бентковски (Michał Bentkowski) из компании Securitum заработал 5000 долларов, <a href="https://research.securitum.com/xss-in-amp4email-dom-clobbering/">выявив XSS-уязвимость,</a> связанную с динамическими сообщениями в Gmail.</p>
      <p>Напомню, что функция динамической электронной почты, также известная как Accelerated Mobile Pages (AMP), предназначена для электронной почты или AMP4Email, и позволяет использовать динамический HTML-контент в электронных письмах. Там образом, пользователи могут выполнять различные действия непосредственно из писем, например, отвечать на комментарии в Google Docs, заполнять анкеты, отвечать на приглашения и так далее. Google <a href="https://blog.google/products/gmail/take-action-and-stay-up-to-date-with-dynamic-email-in-gmail/">сделала</a> эту функцию общедоступной в июле текущего года.</p>
      <p>Изучая  AMP4Email, Бентковски обнаружил возможность проведения XSS-атак. И хотя в AMP4Email существует защита от подобных проблем, исследователь сумел обойти ее при помощи  унаследованной функции DOM Clobbering. Эта устаревшая функция, как известно, допускает XSS-атаки, и, используя DOM Clobbering, эксперт продемонстрировал, что злоумышленник может добавить вредоносный код в электронное письмо посредством AMP4Email, и тот будет выполняться на стороне жертвы при открытии сообщения.</p>
      <p>Нужно заметить, что эксплуатация уязвимости, продемонстрированная специалистом, не представляла серьезного риска, так как он не сумел обойти защиту Content Security Policy в AMP, которая предназначена именно для предотвращения XSS-атак. Кроме того, эксперт объясняет, что вредоносный код атакующего будет выполняться в песочнице домена AMP, но не в домене Gmail.</p>
      <p>Тем не менее, инженеры Google сочли находку Бентковски интересной, назвали уязвимость «обалденной» (awesome) и вознаградили исследователя 5000 долларов США в рамках программы bug bounty.</p>
    </article>
  </body>
</html>