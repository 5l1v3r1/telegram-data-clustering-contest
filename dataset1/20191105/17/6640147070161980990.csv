,src,lang,text
0,"











Intel o AMD? Il dilemma che affligge Netflix
05 Nov 2019, 17:35 by Giulio Bagnato
Netflix potrebbe adottare CPU AMD EPYC per i propri datacenter. Nulla di certo e definitivo, ma comunque un’opzione sul campo.
In una presentazione di Drew Gallatin (Senior Software Engineer) alla EuroBSDCon (diffusa su Twitter da @DavidSchor), l’azienda ha infatti dichiarato di voler raggiungere un bandwidth di 200 Gbps con i propri server, e per questo sta vagliando le proposte di Intel e AMD.



Ad oggi Netflix dispone di server in grado di raggiungere facilmente i 100 Gbps, ma in vista di una futura espansione sta cercando di capire qual è il tipo di piattaforma che potrebbe rispondere meglio alle sue necessità.
L’attuale configurazione usata da Netflix consiste in una piattaforma Intel Xeon a singolo socket e, considerando che l’obiettivo è raddoppiare le prestazioni, la scelta potrebbe essere la seguente: optare per una piattaforma Xeon dual socket o, in alternativa, una piattaforma AMD EPYC single socket.
Poiché entrambe le soluzioni hanno un TCO (Total Cost of Ownership – Costo totale di gestione) simile, la scelta probabilmente si concentrerà sulle mere caratteristiche tecniche dei due sistemi.
Oggi come oggi Netflix usa un mix di CPU Xeon Broadwell e Skyalake/Cascade Lake. Gli Xeon basati su Broadwell hanno un bandwidth di memoria di 60 GB/s, oltre a 40 linee PCIe 3.0 (per un totale di 32 GB/s), mentre gli Xeon Intel Skylake/Cascade Lake Xeon offrono un bandwidth di memoria di 90 GB/s, oltre a 48 linee PCIe 3.0 (38 GB/s).



Questo sistema non è in grado di garantire i 200 GB/s totali che ricerca Netflix, quindi si stanno valutando due soluzioni: la prima è un sistema con due Intel Xeon Silver 4116/4216. Queste CPU garantirebbero un bandwidth di memoria di 180 GB/s (90 GB/s per ogni socket) e 96 linee PCIe 3.0 (per un totale di 75 GB/s). Le due CPU Xeon sarebbero collegate da 2 link UPI e garantirebbero a Netflix di ottenere i 200 GB/s.



La seconda soluzione invece comprenderebbe una CPU AMD EPYC Naples/Rome 7551 o 7502P. Infinity Fabric collegherebbe i quattro chiplet all’interno della CPU EPYC, consentendo un bandwidth di memoria di 120-150 GB/s. La configurazione AMD darebbe inoltre accesso a 128 linee di PCIe 3.0 (4.0 nel caso del modello 7502P, per una larghezza di banda di memoria fino a 200 GB/s).
La presentazione conclude come la soluzione basata su processori Intel Xeon possa raggiungere un throughput, ossia la capacità di trasmissione dati, di 191 Gb/s. Qualcosa in meno dei 194 Gbps della piattaforma EPYC.
Considerando che entrambi i sistemi hanno un costo simile, Netflix potrebbe usare indifferentemente CPU Intel o AMD, anche se la soluzione basata su CPU EPYC garantirebbe prestazioni leggermente superiori.



Essendo ancora in fase di valutazione iniziale è difficile dire su che hardware punterà Netflix, ma se da una parte AMD sembra in vantaggio sotto molti aspetti, potrebbe esserci la discriminante legata a eventuali costi di migrazione da un sistema Intel a uno AMD. Staremo a vedere!


",it,"











Intel or AMD? The dilemma that plagues Netflix
05 Nov 2019, 17:35 by Giulio Bagnato
Netflix may adopt AMD EPYC CPUs for its datacenters. Nothing certain and definitive, but an option on the field.
In a presentation by Drew Gallatin (Senior Software Engineer) to EuroBSDCon (published on Twitter by @DavidSchor), the company has declared that it wants to reach a bandwidth of 200 Gbps with its servers, and for this it is examining Intel's proposals and AMD.



To date, Netflix has servers capable of easily reaching 100 Gbps, but in view of a future expansion it is trying to understand what kind of platform could best meet its needs.
The current configuration used by Netflix consists of an Intel Xeon single socket platform and, considering that the goal is to double the performance, the choice could be the following: opt for a dual socket Xeon platform or, alternatively, an AMD platform EPYC single socket.
Since both solutions have a similar TCO (Total Cost of Ownership), the choice will probably focus on the mere technical characteristics of the two systems.
Today, Netflix uses a mix of Xeon Broadwell and Skyalake / Cascade Lake CPUs. Broadwell-based Xeons have a memory bandwidth of 60 GB / s, plus 40 PCIe 3.0 lines (for a total of 32 GB / s), while the Intel Skylake / Cascade Lake Xeon offer a memory bandwidth of 90 GB / s, plus 48 PCIe 3.0 lines (38 GB / s).



This system is not able to guarantee the total 200 GB / s that Netflix searches for, therefore two solutions are being evaluated: the first is a system with two Intel Xeon Silver 4116/4216. These CPUs would guarantee a memory bandwidth of 180 GB / s (90 GB / s per socket) and 96 PCIe 3.0 lines (for a total of 75 GB / s). The two Xeon CPUs would be connected by 2 UPI links and would guarantee Netflix to get 200 GB / s.



The second solution instead would include an AMD EPYC Naples / Rome 7551 or 7502P CPU. Infinity Fabric would connect the four chiplets inside the EPYC CPU, allowing a memory bandwidth of 120-150 GB / s. The AMD configuration would also give access to 128 lines of PCIe 3.0 (4.0 in the case of the 7502P model, for a memory bandwidth up to 200 GB / s).
The presentation concludes that the solution based on Intel Xeon processors can achieve throughput, or data transmission capacity, of 191 Gb / s. Something less than the 194 Gbps of the EPYC platform.
Considering that both systems have a similar cost, Netflix could use Intel or AMD CPUs indifferently, even if the solution based on EPYC CPU would guarantee slightly higher performances.



Being still in the initial evaluation phase it is difficult to say on which hardware will point Netflix, but if on the one hand AMD seems to be ahead in many respects, there could be the discriminating factor linked to any costs of migration from an Intel system to an AMD. We'll see!


"
