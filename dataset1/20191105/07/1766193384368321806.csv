,src,lang,text
0,"











Personen zählen mit WLAN-Sniffer
Aus einem günstigen Modul und etwas Software bauen wir einen Personenzähler, der WLAN- und Bluetooth-Signale von Handys nutzt, um die Personenzahl abzuschätzen.
05 Nov 2019, 07:00 by Sebastian Müller
Auch ohne den Einsatz von Kameras lässt sich abschätzen, wie viele Personen sich zu einem bestimmten Zeitpunkt an einem Ort aufhalten. Unser Pax-Zähler zeigt die Anzahl der Personen in einem Bereich an und kann sie auch über das The Things Network versenden, das wir schon einmal vorgestellt haben. ""Pax"" steht hier für ""Personenanzahl"" (englisch persons approximately) und stammt aus dem Luftfahrtjargon.
Der Schlüssel für das kameralose Zählen ist das Smartphone, was mittlerweile nahezu jeder mit sich herumträgt. Solange dieses nicht im Flugmodus verharrt, versucht es, alle paar Sekunden nachzusehen, ob es rundherum WLAN-Stationen gibt, oder sich mit einem bekannten Bluetooth-Gerät zu verbinden. Dabei sendet es kleine Datenpakete. Diese fängt unser Paxcounter auf.

Kurzinfo


ESP-Board als Personenzähler


The Things Network zur Datenübertragung nutzen


Sensordaten in TagoIO auswerten


Checkliste

Zeitaufwand: etwa zwei Stunden
Kosten: ca. 25 Euro
Programmieren: einige Einstellungen im Code ändern
Software: Microsoft Visual Studio Code, PlatformIO

Material

TTGO ESP32-Paxcounter LoRa32 V2.1_1,6 / 868MHz, lilygo (Bezugsquellen: Aliexpress, lilygo)

ggf. USB-Powerbank

optional: 3D-gedrucktes Gehäuse (Vorlage hier zum Download)


Dazu muss der Netzwerkcontroller in den Monitor Mode versetzt werden können, bei dem sämtliche Datenpakete an die Anwendungsebene durchgereicht werden. Im Gegensatz zum Promiscuous-Mode, bei dem in einem WLAN nur die Daten von Geräten weitergeleitet werden, mit denen der Client gerade verbunden ist, werden im Monitor Mode wirklich alle empfangbaren Netzwerkdaten betrachtet. Unser Paxcounter interessiert sich aber nicht für die Nutzdaten, die er einfach ignoriert, sondern nur für die Media-Access-Control-Adresse (MAC: weltweit einmalige physikalische Geräteadresse). Anhand der zur gleichen Zeit funkenden Geräte kann abgeschätzt werden, wie viele Smartphones gerade in der Nähe sind.
Immer mehr Wissen. Das digitale Abo für IT und Technik.

Zugriff auf alle Inhalte von heise+
exklusive Tests, Ratgeber & Hintergründe: unabhängig, kritisch fundiert
c't, iX, Technology Review, Mac & i, Make, c't Fotografie direkt im Browser lesen
einmal anmelden – auf allen Geräten lesen - jederzeit kündbar
erster Monat gratis, danach monatlich 9,95 €
Wöchentlicher Newsletter mit persönlichen Leseempfehlungen des Chefredakteurs

heise+ bereits abonniert? Anmelden und lesen Jetzt anmelden und Artikel sofort lesen  Mehr Informationen zu heise+


heise+ Immer mehr Wissen. Das digitale Abo für IT und Technik.




Heimkino-Basteleien Ambilight Marke Eigenbau
Ein dynamisches Hintergrundlicht á la Philips Ambilight: Mit ein wenig Geschick rüstet man das dekorative Lichterspiel bei anderen TV selbst nach.



Gimp statt Photoshop Fotos komponieren und optimieren
Fotomontagen gelingen ohne Photoshop: Das freie Gimp 2.10 bietet dafür ebenso mächtige Werkzeuge. Mithilfe der Filtersammlung G’MIC optimieren Sie Fotos weiter.



LTE/5G-Mobilfunk Testbetrieb für Campus-Netze einrichten
Unternehmen wollen Produktionsanlagen per LTE/5G vernetzen – kein leichtes Vorhaben. Wer eine Versuchsfunkstelle beantragt, kann den Netzaufbau beschleunigen.



ÖPNV Alternativen zum DB Navigator: Sechs Mobilitäts-Apps im Vergleich
In den App Stores buhlen außer dem DB Navigator dutzende ÖPV/ÖPNV-Apps um die Gunst von Reisenden. Aber was taugen die Programme für Reiseplanung und Pendelei?



Infotainment im Auto Apples CarPlay in älteren Autos nachrüsten
Für die iPhone-Integration braucht man keinen Neuwagen, aber ein neues Autoradio. Wir haben einer HiFi-Werkstatt beim CarPlay-Umbau über die Schulter geschaut.



",de,"











People count with Wi-Fi sniffers
From a cheap module and some software, we build a people counter, which uses wireless and Bluetooth signals from mobile phones to estimate the number of people.
05 Nov 2019, 07:00 by Sebastian Müller
Even without the use of cameras, it is possible to estimate how many people are in one place at a given time. Our Pax Counter displays the number of people in an area and can also send them via The Things Network, which we've already introduced. ""Pax"" here stands for ""persons number"" (English persons approximately) and comes from the aviation jargon.
The key to camera-less counting is the smartphone, which meanwhile carries around almost everyone. As long as this does not stay in flight mode, it tries to check every few seconds, if there are Wi-Fi stations all around, or to connect to a well-known Bluetooth device. It sends small data packets. This starts our Paxcounter.

Our opinion


ESP board as a people counter


Use The Things Network for data transfer


Evaluate sensor data in TagoIO


checklist

Time required: about two hours
Cost: about 25 euros
Programming: to change some settings in the code
Software: Microsoft Visual Studio Code, PlatformIO

material

TTGO ESP32-Paxcounter LoRa32 V2.1_1,6 / 868MHz, lilygo (Suppliers: Aliexpress, lilygo)

if necessary USB power bank

optional: 3D-printed housing (template for download here)


For this purpose, the network controller must be able to be set to monitor mode, in which all data packets are passed on to the application level. In contrast to the promiscuous mode, in which only the data from devices to which the client is currently connected in a WLAN, all the network data that can be received is actually considered in monitor mode. Our Paxcounter is not interested in the user data, which he simply ignores, but only for the media access control address (MAC: the world's only physical device address). Based on the same time sparking devices can be estimated how many smartphones are currently in the vicinity.
More and more knowledge. The digital subscription for IT and technology.

Access to all contents of heise +
exclusive tests, guides & backgrounds: independent, critically sound
c't, iX, Technology Review, mac & i, make, c't read photography directly in the browser
register once - read on all devices - cancel anytime
first month free, then monthly € 9.95
Weekly newsletter with personal reading recommendations from the editor-in-chief

heise + already subscribed? Log in and read Register now and read the article immediately More information about heise +


heise + More and more knowledge. The digital subscription for IT and technology.




Home theater handicrafts Ambilight brand self-made
A dynamic backlight à la Philips Ambilight: With a little skill, you can decorate the decorative play of lights on other TVs yourself.



Compose and optimize Gimp instead of Photoshop photos
Photo montages succeed without Photoshop: The free Gimp 2.10 offers just as powerful tools. With the G'MIC filter collection you can optimize your photos.



Set up LTE / 5G mobile testing for campus networks
Companies want to network production facilities via LTE / 5G - not an easy project. Anyone who applies for an experimental radio station can accelerate the network setup.



Public Transport Alternatives to the DB Navigator: Six Mobility Apps in Comparison
In addition to the DB Navigator dozens of public transport / public transport apps vie for the favor of travelers in the app stores. But what good are the programs for travel planning and commuting?



Retrofit infotainment in the car Apple's CarPlay in older cars
For iPhone integration, you do not need a new car, but a new car radio. We looked over the shoulder of a hi-fi workshop during CarPlay conversion.



"
