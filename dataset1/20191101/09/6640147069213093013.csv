,src,lang,text
0,"











Raspberry Pi 4, l’aggiornamento del firmware abbassa la temperatura
01 Nov 2019, 09:48 by Jacopo Ferrante
L’ultimo Raspberry Pi sta per diventare molto più fresco, letteralmente. La Raspberry Pi Foundation ha rilasciato un aggiornamento del firmware per il Raspberry Pi 4 che riduce il suo consumo di energia e di conseguenza il calore dissipato – inoltre è stato risolto un brutto bug che rallentava i dispositivi USB 3.0.
Per coloro che desiderano testare la beta, c’è anche un nuovo bootloader per sbloccare la tanto attesa funzionalità di avvio via rete di Raspberry Pi 4.



Raspberry Pi 4 ha ricevuto numerosi aggiornamenti di software e firmware dal debutto, ma uno spicca: un firmware aggiornato per il controller VLI VL805 usato per aggiungere due porte USB 3.0 e due porte USB 2.0. Il firmware è stato rilasciato per i primi test a luglio e sembrava offrire una riduzione effettiva dell’energia assorbita e del calore prodotto senza perdita di prestazioni.
“Sembrava è la parola chiave”: laddove per molti utenti l’installazione del firmware andava a buon fine, molti verificarono che il passaggio dal firmware standard alla versione alfa funziona portava un drastico calo delle prestazioni delle periferiche USB 3.0 – da centinaia di megabyte a pochi kilobyte al secondo. Non tutti i dispositivi USB erano interessati: alcuni funzionavano bene con il nuovo firmware, altri no.
Gli sviluppatori di VLI e della Raspberry Pi Foundation hanno lavorato per trovare l’origine del problema e il risultato è il firmware rilasciato questa settimana: tutti i vantaggi della versione alfa, ma – si spera – nessuno dei problemi di compatibilità.
Il nuovo firmware è installabile facilmente sull’ultima build di Raspbian, basata su Debian Buster, aggiornando il proprio sistema tramite il gestore pacchetti apt:

sudo apt update && sudo apt upgrade && sudo apt install rpi-eeprom rpi-eeprom-images 

Il firmware è disponibile in due pacchetti: rpi-eeprom-images e rpi-eeprom, quest’ultimo contenente gli strumenti necessari per l’installazione. Al termine di apt, il riavvio di Raspberry Pi attiverà l’installazione del nuovo firmware. Al riavvio di Raspbian, è possibile verificare la versione sia del bootloader che del firmware VL805 con un singolo comando:

sudo rpi-eeprom-update

Il nuovo firmware è inoltre installato di serie con l’ultima versione del programma di installazione del sistema operativo NOOBS disponibile nella pagina Download di Raspberry Pi; verrà aggiunto alle versioni aggiornate dell’immagine standalone di Raspbian e al programma di installazione da rete NOOBS Lite nel prossimo futuro.
Quelli con i precedenti modelli di Raspberry Pi – inclusi Raspberry Pi 3B e 3B + – non devono fare nulla, poiché il firmware si applica solo al Raspberry Pi 4 dotato di USB 3.0.
Il firmware, che abilita la funzionalità di risparmio energetico precedentemente inattiva nel controller USB 3.0 VL805, è funzionalmente identico alla versione alpha e si possono vedere gli stessi effetti: il consumo è ridotto di circa 0,4 W mentre il Raspberry Pi 4 è in idle e di circa 0,3 W in condizioni di carico.
In termini di temperature, ciò equivale a un brusco calo di 2,6 ° C per quanto riguarda il SoC – abbastanza per spostare la soglia di throttling termico, con la CPU che altrimenti scenderebbe da 1,5 a 1 GHz, ma non abbastanza da impedire del tutto che si inneschi. Chiunque cerchi le massime prestazioni dovrebbe combinare il nuovo firmware a una ventola per il SoC, come la Piromoni Fan Shim da 17 euro.
La differenza si estende oltre il chip VL805 e il SoC, tuttavia, come rivela un’analisi termica della scheda.



Sul firmware di serie, il calore proveniente dal SoC e dal VL805 si diffonde su tutta la scheda, raggiungendo anche i circuiti di gestione dell’alimentazione in basso a sinistra vicino all’ingresso di alimentazione USB di tipo C.
Con il firmware aggiornato, il calore è ridotto ovunque. Anche se potrebbe sembrare poco, è difficile lamentarsi di un miglioramento gratuito dell’efficienza.



Il nuovo firmware ha subito un lungo periodo di test, anche con dispositivi noti per attivare il bug dell’USB emerso nella versione alpha. Finora, tutti i test fanno pensare che il bug sia stato risolto.
Il lancio di Raspberry Pi 4 ha aggiunto moltissime nuove funzionalità, dall’aumento della potenza di calcolo alla connettività USB 3.0. La famiglia Raspberry Pi 3 ha la capacità di funzionare senza una scheda microSD installata, caricando il suo sistema operativo da un dispositivo di archiviazione USB o via rete da un server FTP (TFTP); il Raspberry Pi 4, al momento del lancio, non poteva fare nessuno dei due.
Mentre l’avvio da USB è ancora in fase di sviluppo, l’avvio di rete è ora disponibile, seppur in versione beta. Chi desidera provarlo prima del lancio ufficiale dovrà passare al firmware beta con la consapevolezza che potrebbe contenere bug che potrebbero impedire a Raspberry Pi 4 di avviarsi del tutto senza l’uso dell’immagine di ripristino EEPROM.
Per passare al firmware beta, modificate il file:

/etc/default/rpi-eeprom-update

Cambiate la sezione del file da:

FIRMWARE_RELEASE_STATUS=”critical”

a:

FIRMWARE_RELEASE_STATUS=”beta”

Poi avviate:

sudo rpi-eeprom-update

Riavviate per caricare il nuovo bootloader, quindi seguite le istruzioni contenute nel Tutorial di avvio da rete di Raspberry Pi per configurare il server. Dettagli sulla configurazione dell’avvio di Raspberry Pi 4 sono disponibili nella pagina di configurazione del bootloader. Ricordate che la funzionalità di avvio da rete è in beta e potrebbe non funzionare come previsto su tutte le reti.
Leggi anche: Raspberry Pi 4 ora si overclocca fino a 2147 MHz. Ecco come


",it,"











Raspberry Pi 4, the firmware update lowers the temperature
01 Nov 2019, 09:48 by Jacopo Ferrante
The last Raspberry Pi is going to become much fresher, literally. The Raspberry Pi Foundation has released a firmware update for the Raspberry Pi 4 that reduces its power consumption and consequently the dissipated heat - in addition, a bad bug that slowed down USB 3.0 devices has been fixed.
For those wishing to test the beta, there is also a new bootloader to unlock the long-awaited networked Raspberry Pi 4 boot functionality.



Raspberry Pi 4 has received numerous software and firmware updates since its debut, but one stands out: an updated firmware for the VLI VL805 controller used to add two USB 3.0 ports and two USB 2.0 ports. The firmware was released for the first tests in July and seemed to offer an effective reduction in the energy absorbed and the heat produced without loss of performance.
""It seemed to be the key word"": where for many users the installation of the firmware was successful, many verified that the transition from the standard firmware to the alpha version worked brought a drastic drop in the performance of USB 3.0 peripherals - from hundreds of megabytes to a few kilobytes per second. Not all USB devices were affected: some worked fine with the new firmware, others didn't.
The developers of VLI and the Raspberry Pi Foundation have worked to find the source of the problem and the result is the firmware released this week: all the advantages of the alpha version, but - hopefully - none of the compatibility problems.
The new firmware can be easily installed on the latest Raspbian build, based on Debian Buster, updating your system using the apt package manager:

sudo apt update && sudo apt upgrade && sudo apt install rpi-eeprom rpi-eeprom-images

The firmware is available in two packages: rpi-eeprom-images and rpi-eeprom, the latter containing the tools necessary for installation. At the end of apt, restarting the Raspberry Pi will activate the installation of the new firmware. When Raspbian restarts, you can check the version of both the bootloader and the VL805 firmware with a single command:

sudo rpi-eeprom-update

The new firmware is also installed as standard with the latest version of the NOOBS operating system installation program available on the Raspberry Pi Download page; will be added to the updated versions of the Raspbian standalone image and the NOOBS Lite network installer in the near future.
Those with the previous Raspberry Pi models - including Raspberry Pi 3B and 3B + - don't have to do anything, since the firmware only applies to the Raspberry Pi 4 equipped with USB 3.0.
The firmware, which enables the previously inactive energy-saving feature in the USB 3.0 VL805 controller, is functionally identical to the alpha version and you can see the same effects: the consumption is reduced by about 0.4 W while the Raspberry Pi 4 is in idle and approximately 0.3 W under load conditions.
In terms of temperatures, this is equivalent to a sharp drop of 2.6 ° C for the SoC - enough to move the thermal throttling threshold, with the CPU otherwise falling from 1.5 to 1 GHz, but not enough to prevent it altogether from triggering. Anyone looking for maximum performance should combine the new firmware with a fan for the SoC, like the 17-euro Piromoni Fan Shim.
The difference extends beyond the VL805 chip and the SoC, however, as a thermal analysis of the card reveals.



On the standard firmware, the heat coming from the SoC and from the VL805 spreads over the whole board, reaching also the power management circuits in the lower left near the USB type-C power input.
With the updated firmware, the heat is reduced everywhere. Although it may seem little, it is difficult to complain about a free improvement in efficiency.



The new firmware has undergone a long test period, even with devices known to activate the bug of the USB emerged in the alpha version. So far, all the tests suggest that the bug has been fixed.
The launch of the Raspberry Pi 4 has added many new features, from the increase in computing power to USB 3.0 connectivity. The Raspberry Pi 3 family has the ability to operate without a microSD card installed, loading its operating system from a USB storage device or via a network FTP server (TFTP); the Raspberry Pi 4, at the time of launch, could not do either.
While USB booting is still under development, network booting is now available, albeit in beta. Those who want to try it before the official launch will have to switch to beta firmware with the knowledge that it could contain bugs that could prevent the Raspberry Pi 4 from starting up completely without using the EEPROM recovery image.
To switch to beta firmware, edit the file:

/ Etc / default / rpi-eeprom-update

Change the file section from:

FIRMWARE_RELEASE_STATUS = ""critical""

to:

FIRMWARE_RELEASE_STATUS = ""beta""

Then start:

sudo rpi-eeprom-update

Restart to load the new bootloader, then follow the instructions in the Raspberry Pi network boot tutorial to configure the server. Details on configuring the startup of the Raspberry Pi 4 are available on the bootloader configuration page. Remember that the network boot feature is in beta and may not work as expected on all networks.
Read also: Raspberry Pi 4 now overclock up to 2147 MHz. Here's how


"
