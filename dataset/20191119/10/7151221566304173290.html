<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta property="og:url" content="https://dou.ua/lenta/articles/estimation-of-labor-input-1/"/>
    <meta property="og:site_name" content="ДОУ"/>
    <meta property="article:published_time" content="2019-11-19T10:00:00+00:00"/>
    <meta property="og:title" content="Оценка трудоемкости проектов разработки. Часть 1"/>
    <meta property="og:description" content="В первой части статьи Александра Катруши, Senior Engineering Manager, рассмотриваем основные сложности в оценке проектов, цели процесса оценки, требования к оценщику (разработчику), структуру и единицы измерения оценки."/>
  </head>
  <body>
    <article>
      <h1>Оценка трудоемкости проектов разработки. Часть 1</h1>
      <address><time datetime="2019-11-19T10:00:00+00:00">19 Nov 2019, 10:00</time> by <a rel="author" href="https://dou.ua/users/oleksandr-katrusha/" target="_blank">Oleksandr Katrusha</a></address>
      <p>Меня зовут Александр Катруша, я работаю Senior Engineering Manager в компании Innovecs. Большую часть своей карьеры я занимался разработкой и внедрением ERP-систем, а также оценкой и управлением соответствующих проектов. И хотя тема оценки проектов неисчерпаема, как атом, надеюсь, мой опыт пригодится многим коллегам. Особо ценны будут советы, что делать и чего не делать, как избежать типичных ошибок в оценке и ее коммуникации.</p>
      <p>Благодарен ребятам из <a href="https://dou.ua/forums/topic/25905/">этой темы на DOU</a> за мотивационный пинок для написания статьи. Она состоит из двух частей. В первой части даны общие соображения, рассмотрены цели и сложности оценки проектов разработки, структура оценки и единицы измерения, требования к оценщикам и исполнителям. Вторая часть описывает пошаговый метод составления и оформления оценки, а также попытку математического обоснования предложенного метода.</p>
      <p>Надеюсь, материал будет полезен начинающим и опытным руководителям проектов, сотрудникам отделов продаж, а также всем, кто так или иначе связан с оценкой, продажей и выполнением проектов разработки программного обеспечения.</p>
      <h3>Терминология</h3>
      <p>Я постараюсь не злоупотреблять англицизмами, но в случае семантических различий между английскими терминами и их общепринятым русским переводом может встретиться калька с английского термина, например:</p>
      <ul>
        <li>скоуп (англ. scope) — содержание проекта, рамки проекта, объем работ;</li>
        <li>assumptions — допущения, предположения;</li>
        <li>contingency — риск.</li>
      </ul>
      <p>Под <b>оценкой</b> проекта я буду подразумевать только оценку трудоемкости работ (трудозатрат). Оценка затрат, таких как аренда офиса, железо, софт, лицензии, — тема для отдельной статьи. Также практически не буду касаться календарного планирования выполнения проекта, которое часто делается сразу после и на основе оценки трудоемкости.</p>
      <p>Хочу также отметить, что в гибких практиках в последнее время принято говорить не об оценке, а о прогнозе (forecast), тем самым подчеркивая принципиальную <a href="http://www.agilenutshell.com/cone_of_uncertainty">неопределенность</a>, связанную с выполнением проекта, и нацеленность больше на достижение бизнес-целей заказчика, чем на попадание в сроки и бюджет.</p>
      <p>Под <b>точностью</b> оценки буду подразумевать ее возможность обеспечить качественное планирование и выполнение проекта. Поскольку за время жизни проекта его рамки, предположения и прочие параметры, как правило, сильно изменяются, то вычислить «математическую» точность оценки (то есть отношение плана к факту) практически невозможно.</p>
      <h3>Когда и зачем нужна оценка проектов</h3>
      <h4>Неопределенность</h4>
      <p>Одна из базовых проблем оценки — противоречие между принципиальной неопределенностью будущих параметров проекта и необходимостью принятия решений здесь и сейчас. Мы живем в мире годовых бюджетных циклов, тендеров, ROI, time-to-market и прочих практик и концепций, которые вынуждают принимать инвестиционные решения как можно раньше в жизненном цикле проекта, то есть именно тогда, когда риски недооценки или переоценки самые большие.</p>
      <p>При этом в процессе переговоров либо участия в тендере на исполнителя оказывается дополнительное давление с целью уменьшения оценки и принятия им на себя большего риска. Стоит всегда помнить об этом противоречии при продаже, оценке и выполнении проекта.</p>
      <figure>
        <img src="https://s.dou.ua/storage-files/image1_Fgu5Ffs.jpg"/>
      </figure>
      <h4>Когда нужна оценка</h4>
      <p>В каких же случаях может возникнуть необходимость оценить трудоемкость проекта? Несколько возможных ситуаций:</p>
      <ol>
        <li>Переговоры с клиентом о новом проекте либо фазе проекта.</li>
        <li>Ответ на <a href="https://en.wikipedia.org/wiki/Request_for_proposal">RFP</a> либо участие в тендере.</li>
        <li>Планирование бюджета и прочих ресурсов организации, например, календарное.</li>
        <li>Расчет <a href="https://www.investopedia.com/terms/r/returnoninvestment.asp">ROI</a> проекта в ходе принятия принципиального решения о его запуске.</li>
      </ol>
      <h4>Если оценка нужна прямо сейчас</h4>
      <p>Если вы вынуждены оценивать проект в самом начале, на этапе сбора бизнес-требований или еще раньше, есть несколько путей снизить риск:</p>
      <ol>
        <li>Используя свой опыт предыдущих проектов, описать и оценить максимальный теоретически возможный скоуп, вплоть до легкой степени абсурдности. Но так, чтобы за каждым числом было пусть и слабое, но обоснование. После легкого шока, как правило, заказчик оценки становится более сговорчивым насчет предоставления необходимых входных данных, времени и ресурсов на оценку.</li>
        <li>Дать интервал оценки от и до, подчеркивая неопределенность и уровень риска, присущий проекту на этой стадии. Это позволит стейкхолдерам проекта принимать более осмысленные решения по принятию рисков.</li>
        <li>Двигаться итеративно, по пути уточняя прогнозные цифры.</li>
      </ol>
      <h4>Цели</h4>
      <p>Ответ на вопрос «зачем оценивать?» может быть не столь очевиден. Помимо собственно подсчета трудозатрат и бюджета, в процессе оценки необходимо проделать немалую работу по обоснованию прогнозных чисел и снижению рисков. Я бы выделил следующие основные цели процесса оценки:</p>
      <ol>
        <li>Определить и ограничить рамки проекта (scope) и зафиксировать предположения (assumptions), при которых оценка актуальна.</li>
        <li>Определить цену и себестоимость проекта на основе трудозатрат.</li>
        <li>Обосновать бюджет проекта перед внешними либо внутренними спонсорами.</li>
        <li>Получить входные данные для других процессов, таких как:<br/>продажа;планирование;наем сотрудников;бюджетирование.</li>
      </ol>
      <p>На первом месте в списке целей — определение рамок проекта. Сложно переоценить важность этого пункта. Никакая оценка не имеет смысла без четкого описания того, что и при каких условиях мы оцениваем. На мой взгляд, отсутствие четкого описания рамок проектов и предположений — одна из основных причин проблем при их выполнении.</p>
      <p>Второй и четвертый пункты достаточно очевидны, а вот третий может быть сложен для понимания разработчиками и теми, кто не знаком с работой бюрократических структур. Для выделения бюджета, особенно в больших корпорациях, часто бывает необходимо взять неясные, абсурдные либо вовсе несуществующие требования и сделать красивую обоснованную оценку. И только для того, чтобы люди, распределяющие бюджет, ее утвердили. А в рамках этого бюджета команда смогла бы перейти к выяснению «настоящих» требований и их реализации. При этом все участники процесса могут отлично понимать абсурдность и нереальность требований и их изменчивость. Но чем детальнее и профессиональнее будет выглядеть ваша оценка, тем выше шансы получить бюджет и реализовать проект «как нужно».</p>
      <p>Особенно это актуально для не ИТ-клиентов, продающих услуги и продукты с гораздо меньшей степенью неопределенности, чем разработка софта. Их менеджерам может быть сложно понять, почему цена на одну и ту же услугу может отличаться на порядок в зависимости от «незначительных» изменений в требованиях, фазы проекта или поставщика.</p>
      <p>На более же высоком уровне, по утверждению Steve McConnell в его великолепной книге <a href="https://www.amazon.com/gp/product/0735605351">Software Estimation</a>, основная цель оценки — определить, являются ли цели проекта достаточно реалистичными для достижения, то есть стоит ли вообще браться за проект.</p>
      <h4>Эксперимент</h4>
      <p>Во время семинаров по оценке проектов я несколько раз просил аудиторию в течение нескольких минут оценить полные трудозатраты на разработку достаточно простого бизнес-приложения — программы для торговца цветами с функциями учета заказов, их выполнения, оплаты и хранения базовой информации о клиентах.</p>
      <p>В результате даже старшие разработчики и архитекторы, работавшие много лет вместе на одной платформе, на одних и тех же входных данных, находясь в одной аудитории и читающие один и тот же текст, давали оценки, отличающиеся в 20 и более раз! Требования при этом были не очень детальными, но достаточно реалистичными, как если бы они действительно были сформулированы владельцем бизнеса.</p>
      <p>Очевидно, причина такого разброса не в технической компетенции разработчиков, в которой я не сомневался. А в том, что они оценивали разный скоуп. Кто-то думал только о разработке базовых функций, кто-то же — и о работе с требованиями, тестировании, потенциальных изменениях, интеграциях, рисках.</p>
      <p>Именно в том, чтобы видеть весь объем работ и рисков, и состоит важная часть искусства оценки проектов. Другая важная часть — это коммуникация со всеми стейкхолдерами проекта.</p>
      <h3>Оценщики и исполнители</h3>
      <h4>Идеальный оценщик</h4>
      <p>Идеальный оценщик — это разработчик с квалификацией не ниже сеньора, желательно с опытом неудачных оценок и провальных проектов, а также хорошо понимающий процессы продажи, оценки, планирования и выполнения проекта в целом. При этом он должен чувствовать себя психологически в безопасности, то есть не должен бояться быть наказанным за недооценку или переоценку конкретных задач. Иначе он может стремиться закладывать более пессимистичные оценки либо вообще отказываться их давать. Команда же будет рада использовать все выделенное время, и бюджет вашего проекта может вырасти в несколько раз больше необходимого.</p>
      <p>Этот феномен хорошо сформулирован в <a href="https://en.wikipedia.org/wiki/Parkinson%27s_law">законе Паркинсона</a>: «Работа заполняет время, отпущенное на нее». Опытный разработчик всегда найдет способ, как потратить 40 часов на 16-часовую задачу. А значит, завышенная оценка также может влиять на фактические трудозатраты.</p>
      <p>Кроме того, очевидно завышенная оценка отдельных задач может подорвать доверие клиента ко всей оценке и ее авторам.</p>
      <figure>
        <img src="https://s.dou.ua/storage-files/image3_iWwYNkV.jpg"/>
      </figure>
      <h4>Когнитивные искажения, влияющие на оценку</h4>
      <p>Даже самые опытные специалисты могут ошибаться. Одна из причин ошибок, на мой взгляд, когнитивные искажения — свойства нашего мозга, мешающие нам мыслить рационально. Больше о них можно прочитать в <a href="https://www.amazon.com/Thinking-Fast-Slow-Daniel-Kahneman/dp/0374533555">книге</a> нобелевского лауреата по экономике Даниела Канемана либо в <a href="https://en.wikipedia.org/wiki/List_of_cognitive_biases">«Википедии»</a>. Здесь я опишу три искажения, непосредственно касающиеся, на мой взгляд, нашей темы.</p>
      <h4>Ошибка планирования и оптимизм</h4>
      <p>Нам <a href="https://en.wikipedia.org/wiki/Planning_fallacy">хочется думать</a>, что мы лучше других. Поэтому своим задачам, как правило, даем более оптимистичную оценку, чем похожим задачам других людей. Хороший оценщик должен адекватно оценить свои силы и быть готовым сопротивляться приемам психологического давления вроде вопросов «почему так долго?!», спокойно аргументируя свою позицию.</p>
      <p>Также всем, даже опытным разработчикам, присущ оптимизм в оценке задач. По эмпирическим данным, разработчики в среднем дают оценки, заниженные по крайней мере на 30%. И этот оптимизм, к сожалению, находит поддержку у менеджеров и других стейкхолдеров проекта.</p>
      <h4>Ошибки в оценке вероятностей</h4>
      <p>Фактическое время выполнения задачи — случайная величина. Даже люди, прошедшие университетский курс теории вероятностей, далеко не всегда в состоянии правильно ими оперировать. См., например, <a href="https://en.wikipedia.org/wiki/Monty_Hall_problem">парадокс Монти Холла</a>. Особенно справедливо это для условных, очень больших и очень малых вероятностей, чем с успехом пользуются страховые компании и организаторы лотерей. Также может быть непросто оценщику отличить, например, математическое ожидание трудозатрат от наиболее вероятных трудозатрат на задачу.</p>
      <p>Для уменьшения эффекта договаривайтесь с разработчиком о том, что вы подразумеваете под оптимистичной, реалистичной, пессимистичной и вообще оценкой выполнения задачи. Вопрос «сколько может занять эта задача?» предполагает совершенно другой ответ, чем такие вопросы, как: «Какое наиболее вероятное время выполнения этой задачи?», «Какое среднее время выполнения этой задачи?».</p>
      <h4>Эффект привязки (<a href="https://en.wikipedia.org/wiki/Anchoring">якорение</a>)</h4>
      <p>Люди подсознательно стремятся к услышанным или подсказанным кем-то числам. Об этом отлично знают, например, <a href="http://www.businessdictionary.com/definition/odd-even-pricing.html">маркетологи</a>. В нашем контексте это может значить, что:</p>
      <ul>
        <li>Если вы хотите получить действительно независимые цифры от разных оценщиков, не стоит им сообщать результаты друг друга.</li>
        <li>Не стоит давать никаких намеков, ориентиров, ожиданий, вариантов бюджета оценщику до того, как получите от него числа. Иначе результат будет сильно искажен вашими вводными данными.</li>
      </ul>
      <h4>Исполнители</h4>
      <p>Еще одна сложность состоит в том, что оценку, как правило, делают старшие разработчики, а выполняют же большинство задач мидлы и джуны. Как показали <a href="https://www.construx.com/blog/productivity-variations-among-software-developers-and-teams-the-origin-of-10x/">исследования</a>, проведенные еще на заре индустрии, продуктивность программистов разной квалификации может отличаться в несколько раз, а иногда и в десятки раз.</p>
      <figure>
        <img src="https://s.dou.ua/storage-files/image2_Jsk5fkz.jpg"/>
      </figure>
      <p>Рекомендацией здесь будет проводить оценку для среднего разработчика (мидла), особенно если исполнители неизвестны на момент оценки. То есть оценщик должен поставить себя на место мидла. Тогда при сбалансированной по квалификации команде оценка будет достаточно реалистичной. Но это может потребовать дополнительных усилий от оценщика и отдельной коммуникации с ним.</p>
      <p>Если же вы точно знаете, что в вашей команда будет дисбаланс по квалификации, корректируйте оценки. По моим подсчетам на основе продуктивности разработчиков разной квалификации и времени, которое уходит на обучение и ревью младших коллег, продуктивность таких двух команд может отличаться примерно в полтора раза.</p>
      <figure>
        <img src="https://s.dou.ua/storage-files/image5_BduaKvD.png"/>
      </figure>
      <h4>Единицы измерения</h4>
      <h4>Трудоемкость vs длительность</h4>
      <p>Я предпочитаю все задачи и проекты оценивать по трудоемкости (в человеко-часах), а не по длительности (в днях или неделях) по следующим причинам:</p>
      <ol>
        <li>На момент оценки команда может быть не набрана или ее состав может измениться в будущем.</li>
        <li>Команды часто отвлекаются на другие проекты или задачи.</li>
        <li>Из трудозатрат относительно легко получить примерную оценку длительности простым делением на доступные ресурсы.</li>
      </ol>
      <p>Длительность при этом более интуитивна и удобна при стабильной команде на коротких отрезках времени.</p>
      <h4>Человеко-часы, -дни, -недели, -месяцы</h4>
      <p>Человеко-часы, на мой взгляд, более оптимальны, и вот почему:</p>
      <ol>
        <li>Разные люди, страны и компании работают по разным календарям. Рабочие дни и недели могут содержать разное количество рабочих часов, а кто-то из членов команды может работать неполный рабочий день. Это особенно актуально для распределенных команд.</li>
        <li>Ставки на разработку на мировом рынке аутсорсинга принято указывать для человеко-часов. Таким образом, простым умножением оценки на ставку можно получить примерный бюджет на работу в деньгах.</li>
        <li>Учет рабочего времени, если он есть, ведется в часах. Так будет намного удобнее сопоставлять план с фактом.</li>
        <li>Оценки в днях по определению менее точны, чем в часах, и позволяют разработчикам менее ответственно относиться к оценке.</li>
      </ol>
      <h4>Степени двойки</h4>
      <p>С учетом выбора человеко-часов в качестве единицы измерения представляется целесообразным использовать степени двойки для оценки конкретных задач. Они достаточно интуитивны, хорошо соответствуют рабочему времени восьмичасового рабочего дня и удобны в расчетах:</p>
      <ul>
        <li>0,5–1 ч — время для минимально возможной задачи;</li>
        <li>2 ч — время, которое можно комфортно провести за монитором без отвлечения внимания;</li>
        <li>4 ч — половина рабочего дня;</li>
        <li>8 ч — рабочий день;</li>
        <li>16 ч — два рабочих дня;</li>
        <li>32 ч — «почти неделя».</li>
      </ul>
      <p>При надобности можно использовать и промежуточные числа: 6, 12, 40. Выше 40 ч оценка выглядит не совсем надежной, а задача плохо контролируемой. В таком случае желательно разбиение на подзадачи.</p>
      <h4>Рабочие часы vs эффективные часы</h4>
      <p><a href="https://www.agilebuddha.com/agile/how-to-do-effective-capacity-planning-on-the-scrum-team/">Не секрет</a>, что разработчики, и не только они, непосредственно работают часов пять-шесть из восьмичасового рабочего дня. Остальное время уходит на отдых, кофе, перекуры, разговоры, Facebook и другие интересные занятия. Много дней подряд по 8 часов эффективно делать творческую работу практически невозможно.</p>
      <p>Моя рекомендация — все же оценивать проект в рабочих, то есть астрономических, а не эффективных часах. И главная причина тут проста: сложно объяснить заказчику, почему он платит вам за восемь часов, а работаете вы только шесть... Даже если ваш заказчик — ИТ-компания и «тоже так делает», не стоит давать ему лишний козырь в потенциальных спорах, особенно судебных, которые могут возникнуть в течение жизни проекта. Кроме того, с рабочими часами проще планировать: не нужно вводить дополнительные коэффициенты.</p>
      <p>Минус этого подхода проявляется на мелких задачах, при выполнении которых нет разницы между эффективными и рабочими часами. Три задачи по два или одна по шесть часов эффективного времени будут сделаны за один восьмичасовой рабочий день, об этом стоит помнить при оценке и планировании.</p>
      <h3>Структура оценки</h3>
      <p>Как мы выяснили в первой части статьи, цель оценки — не только найти трудозатраты, но и описать скоуп, риски, а также правильно преподнести их всем стейкхолдерам проекта. А потому документ «Оценка проекта» как минимум должен содержать:</p>
      <ol>
        <li><b>Скоуп.</b> Что мы оцениваем в виде списка требований, работ и того, что в скоуп не входит.</li>
        <li><b>Предположения и риски.</b> При каких условиях оценка актуальна, и что, по нашему мнению, может пойти не так.</li>
        <li><b>Числа.</b> Сколько трудозатрат потребует сделать 1 при условиях 2.</li>
        <li><b>Упаковка.</b> Last but not least. Правильно преподнести оценку не менее важно, чем качественно оценить, особенно в процессе продажи.</li>
      </ol>
      <p>Заметьте, что собственно оценка в виде чисел только на третьем месте, поскольку качественное определение скоупа и предположений намного важнее для успеха проекта, чем точность оценки. Числа неотделимы от того, что и при каких условиях они оценивают. Ошибка в оценке индивидуальной задачи может составить 5%, 10%, пусть даже 50%, и это может быть некритичным для проекта. В то время как неправильная оценка скоупа и рисков может увеличить трудоемкость работ в несколько раз.</p>
      <p>Все недосказанности, потенциальные конфликты с заказчиком и другими стейкхолдерами намного дешевле разрешать в начале проекта, чем в его середине или конце. Для этого и необходимо четкое описание скоупа, предположения и рисков. Потому не бойтесь мягко, но настойчиво указывать на недостаток информации или ее противоречивость, ошибки заказчика, видимые риски.</p>
      <h3>Заключение</h3>
      <p>Итак, в первой части мы рассмотрели основные сложности в оценке проектов, цели процесса оценки, требования к оценщику (разработчику), структуру и единицы измерения оценки. В следующей части перейдем непосредственно к трудоемкому процессу ее составления.</p>
      <p>Темы: <a href="https://dou.ua/lenta/tags/project%20management/">project management</a>, <a href="https://dou.ua/lenta/tags/%D0%BC%D0%B5%D0%BD%D0%B5%D0%B4%D0%B6%D0%BC%D0%B5%D0%BD%D1%82/">менеджмент</a>, <a href="https://dou.ua/lenta/tags/%D0%BE%D1%86%D0%B5%D0%BD%D0%BA%D0%B0/">оценка</a>, <a href="https://dou.ua/lenta/tags/%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82/">проект</a></p>
    </article>
  </body>
</html>