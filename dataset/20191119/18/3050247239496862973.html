<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta property="og:url" content="https://cointelegraph.com/news/istanbul-to-berlin-ethereum-milestones-on-the-road-to-serenity"/>
    <meta property="og:site_name" content="Cointelegraph"/>
    <meta property="article:published_time" content="2019-11-19T18:03:00+00:00"/>
    <meta property="og:title" content="Istanbul to Berlin: Ethereum Milestones on the Road to Serenity"/>
    <meta property="og:description" content="The next Ethereum hard fork is coming soon — here’s how the improvements it brings fit into the big picture of network’s evolution."/>
  </head>
  <body>
    <article>
      <h6 class="kicker">Analysis</h6>
      <h1>Istanbul to Berlin: Ethereum Milestones on the Road to Serenity</h1>
      <address><time datetime="2019-11-19T18:03:00+00:00">19 Nov 2019, 18:03</time> by <a rel="author">Kirill Bryanov</a></address>
      <p>Earlier this month, the Ethereum Foundation team lead Péter Szilágyi<a href="https://cointelegraph.com/news/ethereum-istanbul-hard-fork-release-date-confirmed-by-core-developer"> confirmed</a> the date of the network’s upcoming upgrade, Istanbul. Ethereum’s eighth hard fork overall and the second one this year was due to take place on Dec. 4. However, on Nov. 20, per the official <a href="https://blog.ethereum.org/2019/11/20/ethereum-istanbul-upgrade-announcement/">announcement</a>, the date estimate was moved to around Dec. 7. </p>
      <p>Istanbul will introduce a number of improvements such as interoperability with Zcash, cheaper zero-knowledge layer two scalability solutions, and adjusted gas price for certain operations, marking another milestone along the road to Ethereum 2.0, a highly anticipated “ultimate” version of the network. How exactly does Istanbul fit into the grand scheme of things?</p>
      <h3>Forks, releases and phases</h3>
      <p>No complex open-source system is ever in its final state — software is always in motion, constantly being improved and updated. This is especially true for Ethereum, whose path toward becoming a distributed “world computer” and the platform for decentralized applications has been outlined at its inception as a series of consecutive milestones.</p>
      <p>The current goal that the Ethereum developer community is pursuing is an advanced version of the network called Ethereum 2.0, Eth2 or Serenity. The upgrade is expected to see a number of drastic developments, such as transition from <a href="https://cointelegraph.com/tags/pow">proof-of-work</a> to a more energy-efficient <a href="https://docs.ethhub.io/ethereum-roadmap/ethereum-2.0/proof-of-stake/">proof-of-stake</a> consensus algorithm, realization of a new scalability paradigm called <a href="https://docs.ethhub.io/ethereum-roadmap/ethereum-2.0/sharding/">sharding</a>, and the introduction of a more efficient <a href="https://docs.ethhub.io/ethereum-roadmap/ethereum-1.x/#ewasm">Ethereum Virtual Machine</a> capable of executing high-performance smart contracts. Researcher Danny Ryan has <a href="https://github.com/ethereum/eth2.0-specs#design-goals">formulated</a> five overarching design goals for Ethereum 2.0: decentralization, resilience, security, simplicity and longevity.</p>
      <p>Differences in the language used to describe the stages of network updates can be confusing: There are hard forks named after the world’s great cities, numbered phases, releases denoted by version codes, and poetic labels such as “serenity.” Yet, it ultimately comes down to a rather straightforward structure.</p>
      <figure>
        <img src="https://s3.cointelegraph.com/storage/uploads/view/a0176c6749ceafbb4292ad3a8fc7bcd4.png"/>
      </figure>
      <p>The largest increment of the development process is called a release. A single release can be enacted by the means of one or several <a href="https://cointelegraph.com/bitcoin-cash-for-beginners/what-is-hard-fork">hard forks</a> — makeovers of the blockchain protocol that mark a complete departure from its old version. </p>
      <p>To date, there have been three <a href="https://eth.wiki/en/releases">releases</a> — the current one called Metropolis — which has been rolled out in two steps: Byzantium and Constantinople hard forks, with Istanbul still to go. Subsequent hard forks, <a href="https://eth.wiki/en/roadmap/berlin">Berlin</a> (tentatively scheduled for June 2020) and London, will mark the advent of the fourth release, Ethereum 2.0, or, Serenity.</p>
      <p>Hard forks enact changes to the currently operational Ethereum mainnet. The <a href="https://docs.ethhub.io/ethereum-roadmap/ethereum-2.0/eth-2.0-phases/">roadmap</a> to Ethereum 2.0, however, stipulates the creation of separate new chains — such as the eventual existence of two active Ethereum chains with different consensus mechanisms. The rollout of the Ethereum 2.0 chain will come in a sequence of phases specified in the roadmap.</p>
      <h3>Istanbul: accepted improvements</h3>
      <p>The main governance vehicle that the Ethereum community relies on to move the network forward is <a href="https://github.com/ethereum/EIPs">Ethereum Improvement Proposals</a>. They specify suggestions related to changes in the core protocol, client APIs (Application Programming Interfaces) and smart contract standards. </p>
      <p>Authors normally seek to time proposals to the forking schedule and target specific hard forks announced in advance. There is currently a <a href="https://cointelegraph.com/news/ethereum-core-developers-consider-more-frequent-and-smaller-hard-forks">push</a> in the community for switching to an “EIP-centric” <a href="https://notes.ethereum.org/@holiman/S1ELAYY7S?type=view">approach</a> in upgrading the system, where more frequent and smaller forks could allow proposals to develop at their own pace. Berlin, the hard fork slated to follow Istanbul, is <a href="https://eth.wiki/en/roadmap/berlin">expected</a> to be the first in this paradigm.</p>
      <p>Istanbul still <a href="https://eth.wiki/en/roadmap/istanbul">follows</a> the “fork-centric” approach, where many proposals in various stages of their life cycle were pitched and reviewed during All Core Devs calls. Developers classified EIPs as either desired and ready to go into the fork (accepted), desired but not yet ready (tentatively accepted, assumed go live with the next hard fork), or not desired (permanently rejected). Out of 38 EIPs presented, only six were accepted for inclusion, with another eight approved for the Berlin fork. Here is an outline of the accepted proposals:</p>
      <p><a href="https://github.com/ethereum/EIPs/pull/2129">EIP-152</a> brings the ability to verify the Equihash proof-of-work algorithm within an Ethereum contract, enabling interoperability between Zcash and Ethereum blockchains.</p>
      <p><a href="https://eips.ethereum.org/EIPS/eip-1108">EIP-1108</a> reduces precompile gas costs, making a generation of non-interactive zero-knowledge proof, or zk-SNARKs, cheaper. This is good news for two reasons. One is that the change will enhance development of privacy-focused applications that use this type of cryptography. </p>
      <p>More consequentially, using zk-SNARKs is a second-layer solution that can be <a href="https://media.consensys.net/the-parrot-and-the-viper-a-tale-of-ethereum-scalability-ef475f84c2f0">instrumental</a> in alleviating some of Ethereum’s scalability issues by moving a significant amount of computational work off-chain.</p>
      <p><a href="https://eips.ethereum.org/EIPS/eip-1344">EIP-1344</a> adds an opcode that returns the current chain’s unique identifier, introducing a way for contracts to track the Ethereum chain they’re on. This will improve the system’s resilience to <a href="https://ethereum.stackexchange.com/questions/26/what-is-a-replay-attack">replay attacks</a> on signed transactions.</p>
      <p><a href="https://eips.ethereum.org/EIPS/eip-1884">EIP-1884</a> is perhaps the most debated of the accepted proposals, causing controversy since at least August this year. Introduced by Martin Holst Swende, a security lead at Ethereum Foundation, this proposal is aimed at <a href="https://blog.openzeppelin.com/reentrancy-after-istanbul/">repricing</a> certain opcodes (instructions given to the Ethereum Virtual Machine executing smart contracts) in order to “obtain a good balance between gas expenditure and resource consumption.”</p>
      <p>The problem that EIP-1884 is supposed to solve stems from some operations becoming more resource-intensive with the expansion of the Ethereum blockchain. At the moment, blocks with similar gas consumptions take vastly different amounts of time to finish, which is not only an issue in itself, but also can be a vector of a <a href="https://cointelegraph.com/tags/ddos">denial-of-service</a> attack.</p>
      <p>Friction emerged during the <a href="https://github.com/ethereum/pm/blob/master/All%20Core%20Devs%20Meetings/Meeting%2069.md">69 Core Dev call</a> on Aug. 23, where Parity Technologies’ Wei Tang expressed <a href="https://twitter.com/sorpaas/status/1167154294551994369">concerns</a> over the possibility that the change of opcode costs would break some contracts that are already deployed. He argued that backward compatibility should be preserved, enabling old contracts to operate according to the original pricing.</p>
      <p>Hudson Jameson, Ethereum Foundation’s community liaison, <a href="https://twitter.com/hudsonjameson/status/1167325115341656065">responded</a> that there is a “precedent set that OPCODE prices can and will change so your contracts should not rely on the assumption that they will not change,” adding that the transition would leave people better prepared for the more drastic changes that are imminent.</p>
      <p>EIP-1884 will affect a limited number of contracts across a variety of projects. Hubert Ritzdorf from blockchain security firm ChainSecurity has put together perhaps the most <a href="https://gist.github.com/ritzdorf/1c6bd72955391e831f8a397d3152b4e0">comprehensive list</a> of such contracts that stand to be affected.</p>
      <p><a href="https://eips.ethereum.org/EIPS/eip-2028">EIP-2028</a> reduces the cost of calling data in transactions, potentially leading to larger blocks and thus improved scalability of the network. This will also make layer two scalability solutions (such as zk-SNARKs) more accessible.</p>
      <p><a href="https://eips.ethereum.org/EIPS/eip-2200">EIP-2200</a> implements net gas metering, changing the way the cost of storage in the EVM is calculated. This will enable new functions of contract storage and reduce some excessive costs.</p>
      <h3>Still in the works</h3>
      <p>Another high-profile proposal that the Ethereum community considered in the buildup to the Istanbul hard fork is<a href="https://eips.ethereum.org/EIPS/eip-1057"> EIP-1057</a>, which seeks to replace the current Ethash mining algorithm with a new proof-of-work function called ProgPoW, short for Programmatic Proof-of-Work. Core devs have tentatively <a href="https://github.com/ethereum/pm/blob/master/All%20Core%20Devs%20Meetings/Meeting%2066.md">accepted</a> the initiative, pending <a href="https://www.etherchain.org/charts/progpow">audit</a> results, for inclusion in the Berlin hard fork.</p>
      <p>The idea behind this algorithm update is to tune it for commodity hardware that uses <a href="https://cointelegraph.com/tags/gpu">graphics processing units</a>, making mining more difficult for setups equipped with <a href="https://cointelegraph.com/tags/asic">Application-Specific Integrated Circuit</a> chips. </p>
      <p>This measure is designed to restore some degree of decentralization to mining power distribution while leveling the field by making Ethereum mining more attractive to individual users and small enterprises not invested in specialized hardware. ASICs were a major driver behind industrialization of mining over the past few years, leading to massive, centralized mining clusters.</p>
      <p>Earlier this year, Ethereum Foundation’s security lead Martin Holst Swende <a href="https://cointelegraph.com/news/ethereum-core-devs-to-move-forward-with-asic-resistant-pow-algorithm">said</a> that the introduction of ProgPoW would mitigate the degree of ASICs and other hardware accelerators’ dominance on the network. He added that another reason for the change is the security flaws inherent to Ethash.</p>
      <p>Although there seems to be agreement among the core developers with regard to desirability of ProgPoW, not everyone in the community is happy about the prospect of the mining algorithm changing before the switch to proof-of-stake in Ethereum 2.0. </p>
      <p>The most vocal dissenter so far has been Aragon, a project for managing <a href="https://cointelegraph.com/tags/dao">decentralized autonomous organizations</a>, whose community <a href="https://cointelegraph.com/news/aragon-opposes-change-to-ethereums-mining-algorithm-before-20-version">voted</a> on Nov. 2 to oppose any changes to Ethash before the transition to Ethereum 2.0.</p>
      <p>Despite some tension, there is no indication that a critical mass of Ethereum users is bitterly opposed to the proposed change, rendering it unlikely that the development will lead to a serious rift. </p>
      <p>Should the independent audit attest to the robustness of the new algorithm, it will likely be enforced with the Berlin hard fork, now tentatively scheduled for June 2020, as Ethereum continues its march toward the coveted 2.0 version of the network.</p>
      <p>
        <i>The article was updated to reflect the new deadline for Istanbul hard fork.</i>
      </p>
    </article>
  </body>
</html>