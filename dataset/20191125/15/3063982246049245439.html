<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta property="og:url" content="https://www.golem.de/news/betriebssystem-linux-5-4-erscheint-mit-kernel-lockdown-und-exfat-treiber-1911-145196.html"/>
    <meta property="og:site_name" content="Golem.de"/>
    <meta property="article:published_time" content="2019-11-25T15:44:02+00:00"/>
    <meta property="og:title" content="Linux 5.4 erscheint mit Kernel-Lockdown und Exfat-Treiber"/>
    <meta property="og:description" content="Chefentwickler Linus Torvalds hat den Linux-Kernel 5.4 freigegeben. Neben den Lockdown-Patches landete der IMA-Support im Kernel. Außerdem können Linux-Nutzer nun auch einfach"/>
  </head>
  <body>
    <article>
      <h1>Linux 5.4 erscheint mit Kernel-Lockdown und Exfat-Treiber</h1>
      <h2>Chefentwickler Linus Torvalds hat den <a href="https://www.golem.de/specials/linux-kernel/">Linux-Kernel</a> 5.4 freigegeben. Neben den Lockdown-Patches landete der IMA-Support im Kernel. Außerdem können Linux-Nutzer nun auch einfach das Exfat-Dateisystem nutzen.</h2>
      <address><time datetime="2019-11-25T15:44:02+00:00">25 Nov 2019, 15:44</time> by <a rel="author">Sebastian Grüner</a></address>
      <p>Die aktuell stabile Version 5.4 des Linux-Kernel <a href="https://lore.kernel.org/lkml/CAHk-=wjmzaD=BZ1hjUYu+RTnSGDLfCRwCdg99GeQpCjEwo9uzw@mail.gmail.com/T/#u">ist durch Hauptentwickler Linus Torvalds veröffentlicht worden</a>. Eine der wohl wichtigsten Neuerungen in dieser Version sind <a href="https://www.golem.de/news/linux-lockdown-patches-im-kernel-aufgenommen-1909-144158.html">die Lockdown-Patches</a> von Matthew Garrett, David Howells und weiteren Entwicklern. Sie sollen <i>"die Grenze zwischen PID 0 und dem Kernel stärken"</i>. Die Mechanismen setzen verschiedene Distributionen bereits seit ein paar Jahren in ähnlicher Form ein und stehen nun endlich auch im Hauptzweig des Linux-Kernel bereit. Die Patches für Linux 5.4 sorgen dafür, dass der Lockdown-Prozess nicht mehr am EFI-Secure-Boot-Feature hängt. Zudem wird Lockdown jetzt als Linux-Security-Modul implementiert.</p>
      <p>Ebenfalls zur Sicherheit tragen <a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=f1f2f614d535564992f32e720739cb53cf03489f">Patches für die Integrity Measurement Architecture</a> (IMA) bei, die von Mimi Zohar stammen. Sowohl das Kexec-Kernelimage als auch das Initramfs dürfen jetzt für ihre Signaturen die Skripte und Werkzeuge verwenden, mit denen Entwickler ihre Kernel-Module signieren.</p>
      <p>Laut Commit-Nachricht waren einige Umbauten an der Codebasis nötig, damit die IMA die Signaturen über das existierende Framework auswertet, um sie zum Beispiel an das Trusted Platform Module zu übermitteln. Die Entwickler haben den für angehängte Signaturen zuständigen Verifizierungs-Code mehrfach überarbeitet. Ein Vorteil der Mühen: Diese Arbeiten ebnen nun auch den Weg, um weitere Verifizierungsmethoden einzuführen.</p>
      <h4>Exfat-Treiber erstmals offiziell verfügbar</h4>
      <p>Ganz neu ist ein Treiber für Microsofts Exfat-Dateisystem: <a href="https://www.golem.de/news/dateisystem-microsoft-bringt-exfat-in-die-linux-community-1908-143512.html">Das Unternehmen veröffentlichte vor kurzem die Spezifikationen dafür</a> und übergab die mit dem Treiber verbundenen Patente in die Obhut des Open Invention Networks (OIN). Das ermöglichte die Aufnahme der Patches in den Hauptzweig. Der Treiber benötigt allerdings noch einiges an Arbeit, weshalb dieser zunächst im Staging-Subsystem gelandet ist</p>
      <p>Entwickler Eric Biggers lieferte Patches für einen Support von <i>fs-verity</i> in Ext4 und F2FS. Diese Technik stammt von Google und liefert eine Authentifizierung einzelner Dateien auf Basis von Hashwerten. Google nutzt das System für Android. Im Vergleich zum Patchset vom Vorjahr sei es <a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=f60c55a94e1d127186566f06294f2dadd966e9b4">laut Biggers</a> nun wesentlich einfacher über das Userspace-API <i>fs-verity</i> für eine Datei zu aktivieren. Neben dem Code brachte er auch etwas Dokumentation für das Dateisystem-Subsystem in den Kernel ein.</p>
      <p>Für Ext4 gibt es noch weitere Ergänzungen. So ermöglicht es ein neuer Debugging-Helfer dem Userspace, Informationen über den Status des Extent-Status-Cache zu erhalten. Zugleich haben die Entwickler einen Workaround für den richtigen Umgang mit falsch kodierten Daten für den Zeitraum vor 1970 entfernt. Das Dateisystem F2FS übernimmt derweilen die Verbesserungen an der Groß- und Kleinschreibung, die Ext4 erst kürzlich eingeführt hat.</p>
      <h3>Bessere Zufallswerte und Grafik-Updates</h3>
      <p>In bestimmten Fällen warteten Gnomes Display-Manager GDM und <i>gnome-session</i> im frühen Bootprozess vergeblich darauf, dass das System über <i>getrandom()</i> Zufallswerte liefert. Linus Torvalds störte sich offenbar daran und legte selbst Hand an den zugehörigen Code von <i>random.c</i>. Die Idee: Aktiv Zufallswerte zu sammeln, wenn das System keine liefert.</p>
      <p>Über den CPU-Cycle-Counter, den die meisten Architekturen mitbringen, soll Linux nun schon zu Beginn von selbst ausreichend Entropie erzeugen, die der Userspace dann verwenden kann. Das soll die Probleme mit dem Blockieren der Anwendungen beheben. Dank der neuen Entropie-Quellen hat Torvalds nun aber auch die zuvor noch entfernte Verbesserung am IO-Code für Ext4 wieder eingepflegt.</p>
      <h4>Neue Grafiktreiber für AMD und Intel</h4>
      <p>Der AMDGPU-Kerneltreiber bringt nun erstmals Support für Navi 12 und 14 mit, allerdings gilt das noch als experimentell und muss deshalb über ein spezielles Flag aktiviert werden. Ersten Support gibt es zudem für AMDs APU mit dem Namen Dali. AMD benennt seine APUs nach bekannten Künstlern, Kernel 5.4 wird zudem Updates für Renoir mitbringen, einer weiteren APU. Neue Kernel-Treiber gibt es außerdem <a href="https://www.golem.de/news/arcturus-linux-patches-zeigen-neue-arcturus-karte-von-amd-1907-142579.html">für die Arcturus-GPUs von AMD</a>.</p>
      <p>Die Intel-Grafiktreiberentwickler haben erste Unterstützung für die Gen12-GPUs des Herstellers beigesteuert. Diese wird auch <a href="https://www.golem.de/news/gpu-architektur-intels-xe-beschleunigt-raytracing-in-hardware-1905-140988.html">als Xe bezeichnet</a> und soll mit dem Ice-Lake-Nachfolger Tiger-Lake erscheinen. Mit Xe wird Intel wohl auch eigene dedizierte Grafikkarten anbieten. Der freie Nvidia-Treiber Nouveau erkennt nun, wenn PCIe-Kabel nicht angesteckt sind.</p>
      <p>Künftig entfernen wollen die Linux-Entwickler die Treiber für <i>uwb</i> und <i>wusb</i> (Wireless USB Support). Es gibt keine Geräte dafür und der Code wird schon seit Jahren nicht mehr gepflegt. Daher ist der Code zunächst in den Staging-Bereich verschoben worden. Sollte niemand gegen diesen Plan protestieren, wird der Code den Kernel am Ende komplett verlassen.</p>
      <p>Der Code von Linux-Kernel 5.4 steht zum Download auf <a href="https://www.kernel.org/">Kernel.org</a> bereit.</p>
    </article>
  </body>
</html>