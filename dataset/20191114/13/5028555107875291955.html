<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta property="og:url" content="https://arstechnica.com/gadgets/2019/11/the-bytecode-alliance-wants-to-bring-binary-apps-into-your-browser/"/>
    <meta property="og:site_name" content="Ars Technica"/>
    <meta property="article:published_time" content="2019-11-14T13:10:42+00:00"/>
    <meta property="og:title" content="The ByteCode Alliance wants to bring binary apps into your browser"/>
    <meta property="og:description" content="The Bytecode Alliance aims to promote safe use—and reuse—of untrusted code at speed."/>
  </head>
  <body>
    <article>
      <h1>The ByteCode Alliance wants to bring binary apps into your browser</h1>
      <h2>The Bytecode Alliance aims to promote safe use—and reuse—of untrusted code at speed.</h2>
      <address><time datetime="2019-11-14T13:10:42+00:00">14 Nov 2019, 13:10</time> by <a rel="author">Jim Salter</a></address>
      <p>Back in 2015, a consortium including Google, Microsoft, Mozilla, and the WebKit project <a href="https://techcrunch.com/2015/06/17/google-microsoft-mozilla-and-others-team-up-to-launch-webassembly-a-new-binary-format-for-the-web/">announced</a> WebAssembly. This week, Mozilla, Intel, Red hat, and Fastly announced a new consortium called the Bytecode Alliance, which aims to foster WebAssembly and other "new software foundations" that will allow secure-by-default ways to run untrusted code, either inside or outside the Web browser environment.</p>
      <p>For many, this raises an obvious question: what is WebAssembly? <a href="https://webassembly.org/">WebAssembly</a> (wasm) was and is a potentially exciting project, offering a way to run native bytecode inside the browser for potentially very large increases in performance over the Javascript engines in use both then and today.</p>
      <p>Javascript is frequently misunderstood as a scripting language that is interpreted at runtime. Although it is generally loaded into the browser as source code, it may be either interpreted or compiled to bytecode and executed. Compilation means higher performance execution—particularly inside tight loops—but it also means a startup penalty for the time needed to do the JIT compilation itself.</p>
      <p>There's actually a whole lot more under the hood with Javascript JIT—including different compiler modes, specialization, optimization, and bailout. Mozilla's Lin Clark wrote an excellent, reader-friendly <a href="https://hacks.mozilla.org/2017/02/a-crash-course-in-just-in-time-jit-compilers/">explanation</a> for hacks.mozilla.org, if you want more detail.</p>
      <p>In the effort to remove that JIT compilation penalty, Mozilla introduced <a href="http://asmjs.org/faq.html">asm.js</a>—a specialized subset of Javascript that is most frequently used as a source-to-source compilation target for heavier-duty programming languages like C. A C language program cross-compiled to asm.js and run as an Ahead Of Time (AOT) compiled chunk of bytecode will (according to Mozilla) typically be within 50% or better of the fully native performance of C code compiled with <a href="https://clang.llvm.org/">Clang</a>.</p>
      <p>The remaining problem with asm.js is that, as a subset of Javascript, you can't perform operations or express data in ways that you couldn't in Javascript. WebAssembly proposes to change this, with native support for 64-bit integers, load-and-store offsets, and direct access to CPU instructions frequently used for specific tasks such as cryptanalysis.</p>
      <figure>
        <img src="https://cdn.arstechnica.net/wp-content/uploads/2019/11/squoosh.png"/>
        <figcaption>Google Labs' Squoosh.app uses WebAssembly to let you play with image storage and compression techniques; wipe a bar from left to right to see the difference between original and compressed versions in real time.<br/>Jim Salter</figcaption>
      </figure>
      <p>Unfortunately, not much visible has happened in the WebAssembly project since 2015. Even today, it's difficult to find a concrete example of what WebAssembly can do—support in various browsers is dubious at best, and it's difficult even to find functional demos to run locally in the toolkit. The most accessible demo we could find was Google Lab's <a href="https://squoosh.app/">squoosh</a>, a simple application that allows you to play with various image storage and compression algorithms in real time.</p>
      <p>The potential impact of WebAssembly and the WebAssembly System Interface extends far beyond the browser. The Bytecode Alliance envisions a platform that can be used, not only to run native-speed code inside browsers, but in general to make it easier to reuse untrusted code safely across multiple platforms, including server, edge, mobile, and IoT devices.</p>
      <p>
        <i>Listing image by <a href="https://ru.wikipedia.org/wiki/Hex-%D1%80%D0%B5%D0%B4%D0%B0%D0%BA%D1%82%D0%BE%D1%80#/media/%D0%A4%D0%B0%D0%B9%D0%BB:Screenshot_odbg_hex_editor.png">Petrovsky Vladislav</a></i>
      </p>
    </article>
  </body>
</html>