<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta property="og:url" content="https://automaton-media.com/articles/newsjp/20191116-106518/"/>
    <meta property="og:site_name" content="AUTOMATON"/>
    <meta property="article:published_time" content="2019-11-16T15:00:55+00:00"/>
    <meta property="og:title" content="『ポケットモンスター ソード・シールド』のエラー落ちは、microSDカードのフォーマット形式が関係か。ユーザーが指摘し予防策を提案"/>
    <meta property="og:description" content="『ポケットモンスター ソード・シールド』にて、一部のプレイヤーから、エラーの発生による起動中のゲームの強制終了と、microSDカード内に保存されたデータの消失が報告されている。結論からいえば、microSDカードのフォーマットの問題ではないかと指摘されている。"/>
  </head>
  <body>
    <article>
      <h1>『ポケットモンスター ソード・シールド』のエラー落ちは、microSDカードのフォーマット形式が関係か。ユーザーが指摘し予防策を提案</h1>
      <address><time datetime="2019-11-16T15:00:55+00:00">16 Nov 2019, 15:00</time> by <a rel="author" href="https://automaton-media.com/author/taijiro-yamanaka/" target="_blank">Taijiro Yamanaka</a></address>
      <p>Nintendo Switch向けに11月15日に発売された『ポケットモンスター ソード・シールド』にて、一部のプレイヤーから、エラーの発生による起動中のゲームの強制終了と、microSDカード内に保存されたデータの消失が報告されている（<a href="https://automaton-media.com/articles/newsjp/20191115-106465/">関連記事</a>）。この件について、Nintendo SwitchのカスタムファームウェアAtmosphèreの開発者SciresM氏が、その原因を探りTwitter上で報告している。結論からいえば、microSDカードのフォーマットの問題ではないかと指摘している。</p>
      <figure>
        <iframe data-src="https://twitter.com/SciresM/status/1195341413484883969?ref_src=twsrc%5Etfw" data-embed-type="twitter-tweet" width="100%" height="0" data-service="Twitter" scrolling="no" nowide=""/>
      </figure>
      <p>スポンサーリンク</p>
      <p>まず、カスタムファームウェアAtmosphèreとは、Nintendo Switch本体に手を入れて自作アプリなどを起動できるようにするためのもの。本来は不正なものであるが、本稿ではその是非ではなく、氏の発言にフォーカスを当てたい。Atmosphèreでは何かエラーが発生した際にはクラッシュレポートを生成する仕組みになっており、SciresM氏は『ポケットモンスター ソード・シールド』での問題のエラーについてのクラッシュレポートを公開している。そのエラーコードの内容は「Software timeout in NAND access」を示しているという。</p>
      <p>このNAND（フラッシュメモリ）へのアクセス中のタイムアウトエラーが発生すると、Nintendo SwitchのSDMMCドライバは修復を試みようとさまざまな状態をリセットさせる。これにより、SDMMCドライバが扱うほかの部分にも混乱が生じ、Nintendo SwitchのexFATドライバが正しく機能しなくなっているのではないかとSciresM氏は指摘する。</p>
      <figure>
        <iframe data-src="https://twitter.com/SciresM/status/1195345632921182208?ref_src=twsrc%5Etfw" data-embed-type="twitter-tweet" width="100%" height="0" data-service="Twitter" scrolling="no" nowide=""/>
      </figure>
      <p>また、今回の問題に遭遇した日本人実況配信者のNintendo Switchに表示されたエラーコードが「2002-4690」だったことにも注目。これはFATファイルシステムの破損を意味し、特にmicroSDカードが無効なフォーマットにある状態を指しているとして、Nintendo SwitchのOS側も上述の問題を明確に示しているとコメント。このことからSciresM氏は、当面はmicroSDカードにはexFAT形式を使用しないよう勧めている。</p>
      <p>exFATとは、microSDカードなどのストレージをフォーマットする際のファイルシステム形式のひとつ。Nintendo Switch本体でフォーマットをおこなった場合、64GB以上のmicroSDカードはexFAT形式で、32GB以下であればFAT32形式でフォーマットされるようだ。またSciresM氏によると、セーブデータが保存されるNintendo Switch本体内蔵メモリはFAT32形式とのことで、セーブデータは今回の問題の影響は受けていないとされる。なおSDカードリーダーなど接続環境があれば、PCにて任意の形式にmicroSDカードをフォーマットすることができる。</p>
      <figure>
        <iframe data-src="https://twitter.com/SciresM/status/1195369274317012993?ref_src=twsrc%5Etfw" data-embed-type="twitter-tweet" width="100%" height="0" data-service="Twitter" scrolling="no" nowide=""/>
      </figure>
      <p>SciresM氏は、今回の問題の原因についてははっきりしないとしながら、もし『ポケットモンスター ソード・シールド』のNANDメモリ（セーブデータ）へのアクセスパターンが特殊であるために今回の問題が引き起こされていたとしても、開発元ゲームフリークのミスとは必ずしも言えないだろうとしている。任天堂は、ゲームソフトが問題なく動作するかどうかの適合性評価ロットチェックをおこなっており、本作はこれを通過して発売されたから、というのがその理由だ。</p>
      <p>本作の挙動が仕様に照らして問題なしと判断されていたのであれば、問題の根源はNintendo SwitchのOS側にあり、ゲーム側のアップデートによりエラーの発生の軽減はできたとしても、完全な解決はexFATドライバの更新などシステムアップデートを待つ必要があるかもしれないと述べている。</p>
      <figure>
        <img src="https://automaton-media.com/wp-content/uploads/2019/11/20191110-105958-header.jpg"/>
      </figure>
      <p>Redditなどコミュニティでも、exFATドライバに問題が起因しているという見方が一致しており、エラー落ちに関するスレッドの<a href="https://www.reddit.com/r/pokemon/comments/dwvwys/important_switch_system_software_bug_may_cause/">FAQ</a>では「（セーブデータを含む）本体データには影響しない」「DL版でもパッケージ版でも起こり得る」「改造本体/非改造両方で起こり得る」「オートセーブを切っても起こり得る」「回避するにはFAT32でのフォートマットを推奨」といった文言が確認できる。</p>
      <p>もっとも、SciresM氏の解析が今回の問題を正しく指摘しているかどうかは何とも言えない。microSDカードをexFAT形式以外でフォーマットする案も提示されているが、バックアップなども必要で、フォートマット形式を変えたからといって完全に回避できるとは限らない。プレイヤーの方は任天堂・ゲームフリークによる正式な対応を待つ方が良いだろう。</p>
    </article>
  </body>
</html>