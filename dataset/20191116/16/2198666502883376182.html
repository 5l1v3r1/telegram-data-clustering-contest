<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta property="og:url" content="https://3dnews.ru/997826"/>
    <meta property="og:site_name" content="3DNews - Daily Digital Digest"/>
    <meta property="article:published_time" content="2019-11-16T16:29:54+00:00"/>
    <meta property="og:title" content="Анализ производительности видеокарт в тесте трассировки лучей Crytek Neon Noir"/>
    <meta property="og:description" content="Прошёл почти год с тех пор, как игры, использующие для эффектов освещения аппаратное ускорение трассировки лучей (RT), впервые появились на рынке."/>
  </head>
  <body>
    <article>
      <h1>Анализ производительности видеокарт в тесте трассировки лучей Crytek Neon Noir</h1>
      <address><time datetime="2019-11-16T16:29:54+00:00">16 Nov 2019, 16:29</time> by <a rel="author">Константин Ходаковский</a></address>
      <p>Прошёл почти год с тех пор, как игры, использующие для эффектов освещения аппаратное ускорение трассировки лучей (RT), впервые появились на рынке. Уже тогда стало ясно, что использование технологии RT будет набирать обороты, а после анонса аппаратной поддержки в консолях Sony и Microsoft следующего поколения стало очевидно, что будущее — за гибридной визуализацией (смесь растрирования с ограниченным применением RT). Тем не менее, дебют демонстрации Crytek Neon Noir в марте этого года вызвал некоторое удивление: общественность увидела программную RT, исполняемую на ускорителях AMD Radeon Vega 56 и при этом работающую довольно быстро. Специалисты Eurogamer получили недавно возможность протестировать эту демонстрацию благодаря публичному запуску, и результаты оказались довольно любопытны.</p>
      <figure>
        <img src="https://3dnews.ru/assets/external/illustrations/2019/11/16/997826/sm.03.750.jpg"/>
      </figure>
      <p>Стоит сказать, что эта демонстрация использует DirectX 11 и не требует специального оборудования для трассировки лучей, то есть может работать на любой современной видеокарте от NVIDIA или AMD. Эта версия отражений на основе RT использует технологию глобального освещения SVOGI с разрежёнными вокселами от Crytek. Она предусматривает упрощённую версию сцены и может генерировать рассеянное освещение с отслеживанием на основе так называемой конусной трассировки. Эта методика имеет свои ограничения: у неё проблемы с захватом движущихся анимированных объектов, а зеркальные отражения, которые она создаёт, не отличаются пиксельной точностью.</p>
      <figure>
        <iframe src="https://www.youtube.com/embed/WvnQuD-HdEw" width="750" height="422" data-service="Youtube" scrolling="no"/>
      </figure>
      <p>Тут-то и вступает в дело Neon Noir. Помимо информации, полученной от трассировки воксельных конусов и кубических карт, Neon Noir также использует зеркальные отражения геометрии на основе RT. Эта геометрическая трассировка лучей отвечает за движущиеся объекты вроде летающего беспилотника в демонстрации и позволяет получать точные и полноценные отражения.</p>
      <figure>
        <img src="https://3dnews.ru/assets/external/illustrations/2019/11/16/997826/sm.06.750.jpg"/>
      </figure>
      <p>Это полностью программное решение, которое не использует DXR или функции аппаратной трассировки лучей в API Vulkan, поэтому оно не может использовать ни одно из преимуществ этих API, вроде ядер ​​RT в архитектуре Turing от NVIDIA или даже любое другое эквивалентное оборудование AMD в перспективе. Благодаря тому, что метод работает на основе вычислительных шейдеров через DX11, он совместим почти с любым оборудованием. Однако даже при наличии аппаратных блоков ускорения, как известно, трассировка лучей весьма требовательна в играх вроде Battlefield V или Quake 2 RTX.</p>
      <figure>
        <iframe src="https://www.youtube.com/embed/efOR92n9mms" width="750" height="422" data-service="Youtube" scrolling="no"/>
      </figure>
      <p>
        <i>Подробный видеоролик о демонстрации Crytek</i>
        <i> Neon</i>
        <i> Noir</i>
        <i> </i>
        <i>— что она собой представляет, как работает и насколько хорошо себя показывает на различных видеокартах</i>
      </p>
      <p>Neon Noir идёт на несколько ухищрений для поддержания производительности на приемлемом уровне, и их важно упомянуть. Первым является расстояние, на котором объекты, составленные из треугольников, фактически отслеживаются лучами. Ограниченное расстояние отражений от треугольников более очевидно при более длинных дистанциях, поэтому объекты, находящиеся дальше на расстоянии, обрабатывают свои отражения с помощью кубических карт или отслеживания воксельных конусов, что делает их явно менее детализированными и динамичными.</p>
      <figure>
        <img src="https://3dnews.ru/assets/external/illustrations/2019/11/16/997826/sm.07.750.jpg"/>
      </figure>
      <p>Вторая область оптимизации касается типа отражений, которые представлены — поверхности, которые являются более шероховатыми, но всё же отражающими, не получают отражений на основе RT. Последние используются только для более зеркальных поверхностей: примерно так работают низкие и средние настройки RT в Battlefield V, ограничиваясь только более зеркальными поверхностями.</p>
      <figure>
        <img src="https://3dnews.ru/assets/external/illustrations/2019/11/16/997826/sm.01.750.jpg"/>
        <figcaption>Производительность в Neon Noir, DX11, средняя частота при сверхвысоком качестве</figcaption>
      </figure>
      <p>Ещё одна оптимизация заключается в том, что некоторые объекты трассируются с помощью менее подробных, менее полигональных их версий. В демонстрации есть яркая сцена отражённых гильз, но если присмотреться, можно увидеть, что в отражении они гораздо менее закруглены, чем реальный объект — это позволяет экономить ресурсы. Дополнительное повышение скорости достигается за счёт метода обработки рекурсивных отражений: отражений отражений, если угодно. Насколько можно судить, здесь используются более простые кубические карты — это естественно, потому что данный тип эффекта сложно выполнить даже с аппаратным ускорением.</p>
      <figure>
        <img src="https://3dnews.ru/assets/external/illustrations/2019/11/16/997826/sm.08.750.jpg"/>
      </figure>
      <p>Последней областью очевидной оптимизации является разрешение, в котором визуализируются отражения на основе RT. Neon Noir включает предустановки сверхвысокого и очень высокого качества, причём в первом варианте используются отражения в четверть разрешения: например, 1080p в сцене 4K. Очень высокие меняют соотношение ещё более радикально — возможно, до одной восьмой родного разрешения. Демонстрация использует очень сильную фильтрацию, так что точные подсчёты затруднены.</p>
      <figure>
        <img src="https://3dnews.ru/assets/external/illustrations/2019/11/16/997826/sm.02.750.jpg"/>
        <figcaption>Производительность в Neon Noir, DX11, средняя частота при очень высоком качестве</figcaption>
      </figure>
      <p>Сама демонстрация сделана расчётливо, для облегчения вычислительной задачи: закрытая улица с небольшим количеством движущихся объектов благоприятствует настройке выбранного Crytek конвейера рендеринга. Конечный результат всё ещё очень впечатляющий и выглядит в движении отлично, особенно с включённым режимом сверхвысокого качества RT. Среда, созданная для демонстрации, является прекрасным показателем возможности учёта закадровой информации: все эти неоновые вывески и лужи появляются в отражениях и не исчезают при движении камеры — что, безусловно, происходит при отражениях в обычном режиме растрирования.</p>
      <figure>
        <img src="https://3dnews.ru/assets/external/illustrations/2019/11/16/997826/sm.04.750.jpg"/>
      </figure>
      <p>Neon Noir не только отлично выглядит, но и работает хорошо, что видно по приведённым таблицам тестов. При разрешении 1440p на максимальных настройках NVIDIA GeForce RTX 2070 Super и RTX 2060 Super способны большую часть демонстрации показывать 60 кадров/с, а RTX 2060 — чуть ниже этого. Наибольшие провалы происходят в тех случаях, когда экран заполняется отражающими поверхностями, такими как гильзы на земле. При этом RTX 2080 Super работает на скорости выше 60 кадров/с даже в самых тяжёлых сценах.</p>
      <figure>
        <img src="https://3dnews.ru/assets/external/illustrations/2019/11/16/997826/sm.09.750.jpg"/>
      </figure>
      <p>Результаты AMD несколько озадачивают, особенно когда Radeon RX 5700 XT опережает Radeon 7 — условно говоря, Navi значительно превосходит GCN. Даже NVIDIA Pascal, кажется, имеет небольшое преимущество над Vega. Во многих играх Vega 56 обходит GeForce GTX 1070, но в демонстрации трассировки лучей от Crytek наблюдается та же средняя частота кадров лишь с улучшенными минимальными показателями среди 1 % кадров.</p>
      <figure>
        <iframe src="https://www.youtube.com/embed/vUyWwqY-pYc" width="750" height="422" data-service="Youtube" scrolling="no"/>
      </figure>
      <p>
        <i>К концу этого демонстрационного видео движка CryEngine разработчики из Crytek, похоже, намекают на ремейк Crysis... Стоит ли помечтать?</i>
      </p>
      <p>При изменении настроек трассировки лучей до очень высоких значений несколько меняется баланс сил. Более мощные ускорители NVIDIA Turing демонстрируют увеличение производительности примерно на 15 %, как в случае с RTX 2070 Super, а AMD RDNA — на 19 %. Но даже при таком увеличении производительности RTX 2070 Super и RX 5700 XT, обычно выступающие равнозначными соперниками, по-прежнему демонстрируют сильные различия в производительности, которые не совпадают с обычными показателями в играх без RT. Таким образом, некоторые архитектуры больше подходят для этого стиля трассировки лучей по сравнению с другими, но в целом данный метод определённо предпочитает оборудование NVIDIA. Стоит напомнить, что в этой демонстрации ядра ​​RT в чипах Turing никак не затрагиваются.</p>
      <figure>
        <img src="https://3dnews.ru/assets/external/illustrations/2019/11/16/997826/sm.10.750.jpg"/>
      </figure>
      <p>В конечном счёте, результаты любопытны и заставляют задуматься о будущем трассировки лучей в целом. Как технология AMD RDNA будет выполнять подобные задачи, когда получит аппаратные блоки трассировки лучей в будущих картах Navi или на консолях следующего поколения? API, методы и драйверы будут отличаться, поэтому результаты спрогнозировать сложно.</p>
      <figure>
        <img src="https://3dnews.ru/assets/external/illustrations/2019/11/16/997826/sm.05.750.jpg"/>
      </figure>
      <p>Но ясно одно: технология CryEngine, поддерживающая этот вид отражений на основе RT, очень интересна. По словам самой Crytek, в перспективе методика может быть расширена на модели глобального затенения и тени. В краткосрочной перспективе хотелось бы, чтобы метод был перенесён на DirectX Raytracing и Vulkan Ray Tracing, чтобы использовалось неизбежное в будущем аппаратное ускорение.</p>
      <p>В то же время концептуально Neon Noir является захватывающей демонстрацией. Crytek рекомендует GTX 1070 или Vega 56 в качестве графических процессоров начального уровня для достойной производительности, но, поскольку она основана на DX11, то работать будет почти на любом ускорителе. Опробовать её может каждый желающий, <a href="https://www.cryengine.com/marketplace/product/neon-noir">скачав с официального сайта</a> (требуется установка клиента службы Crytek).</p>
      <figure>
        <iframe src="https://www.youtube.com/embed/hjrtj4XYcY0" width="750" height="422" data-service="Youtube" scrolling="no"/>
      </figure>
      <footer>Источник: <br/><a href="http://eurogamer.net/">Eurogamer</a></footer>
    </article>
  </body>
</html>