<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta property="og:url" content="https://www.golem.de/news/ryzen-3000-beste-kerne-sind-nicht-favorisierte-kerne-1911-145154.html"/>
    <meta property="og:site_name" content="Golem.de"/>
    <meta property="article:published_time" content="2019-11-22T08:59:02+00:00"/>
    <meta property="og:title" content="Beste Kerne sind nicht favorisierte Kerne"/>
    <meta property="og:description" content="Im Ryzen-Master-Tool werden CPU-Kerne mit Sternchen als die für Overclocking besten Cores markiert. Die für Boost-Threads favorisierten unter Windows 10 via CPPC2 unterscheiden"/>
  </head>
  <body>
    <article>
      <h1>Beste Kerne sind nicht favorisierte Kerne</h1>
      <h2>Im Ryzen-Master-Tool werden CPU-Kerne mit Sternchen als die für Overclocking besten Cores markiert. Die für Boost-Threads favorisierten unter <a href="https://www.golem.de/specials/windows10/">Windows 10</a> via CPPC2 unterscheiden sich davon.</h2>
      <address><time datetime="2019-11-22T08:59:02+00:00">22 Nov 2019, 08:59</time> by <a rel="author">Marc Sauter</a></address>
      <p>AMD hat bei <a href="https://www.golem.de/news/windows-10-19h2-microsoft-unterstuetzt-favorisierte-cpu-kerne-besser-1910-144270.html">Reddit</a> für Aufklärung gesorgt, was die CPU-Kerne bei Ryzen-Prozessoren anbelangt: Nutzer fanden es verwirrend, dass die in der Ryzen-Master-Software unter Windows 10 per Sternchen als beste markierten Kerne laut Taskmananger bei Singlthread-Last gar nicht genutzt werden, sondern andere Cores.</p>
      <p>Hintergrund ist, dass der <a href="https://www.amd.com/en/technologies/ryzen-master">Ryzen Master</a> die Kerne kennzeichnet, welche die höchste elektrische Güte aufweisen. Bei der Fertigung einer CPU unterliegen diese minimalen Fertigungsschwankungen, so sinkt die Qualität von Chips am Rande eines Wafers leicht, die in der Mitte weisen bessere Eigenschaften auf. Alle Dies werden nach der Vereinzelung, also dem Zerteilen des Wafers in einzelne Chips, geprüft und beurteilt - immer Dutzende auf einmal.</p>
      <p>Bei diesem Binning (Vorabselektion) wird die Güte festgelegt, was für hohe Taktraten oder niedrige Spannungen relevant ist - und somit auch für Overclocking. AMD legt zumindest offen, welche Kerne die besten für Overclocking sind: Im Ryzen Master genannten Tool kennzeichnet ein goldener Stern den besten Core eines Chiplets, ein grauer Stern zeigt den besten Kern eines jeden CCX und ein grauer Kreis den zweitbesten an.</p>
      <figure>
        <video src="https://video.golem.de/download/23167?q=medium&amp;cpxl=0&amp;rd=rlmob_amp"/>
      </figure>
      <p>Seit Windows 10 v1903 wird bei AMD-Chips eine Funktion namens CPPC2 (Collaborative Power Performance Control 2) verwendet, bei Intel heißt das Speed Shift. Sofern der Prozessor und die Mainboard-Firmware es unterstützen, übernimmt die CPU selbst die Kontrolle über ihre P-States, statt das Betriebssystem dies steuern zu lassen. Dadurch kann ein Kern viel schnelle hohe Taktraten erzielen, er ist also quasi ein Booster.</p>
      <p>Nun ist aber ein bestens für Overclocking gedachter Kern nicht zwingend ein toller Booster. Bei AMDs Zen-Architektur befinden sich zudem immer vier Cores in einem CCX (Core Complex), zwei davon bilden einen nativen Achtkernchip. Aus Latenz-Gründen müssen Threads für beste Performance auf einem CCX gehalten werden, hinzu kommt die Core-Rotation-Policy von Windows 10. Der Scheduler verschiebt Singlethread-Last um thermische Probleme zu vermeiden, da diese tendenziell zu weniger Takt führen. Für CPPC2 braucht es daher zwei gute Boost-Kerne in einem CCX, nur so wird die höchste Performance erreicht.</p>
      <p>Ein Beispiel: Bei unserem Ryzen 7 3700X sind laut Ryzen Master die für Overclocking am besten geeigneten Kerne der Core #3 und der Core #7, für CPPC2 hingegen werden Core #2 und Core #3 verwendet. Das passt, denn diese beiden befinden sich im ersten CCX. Wer sie auslesen möchte, muss in der Computerverwaltung in der Ereignisanzeige bei den Windows-Protokollen die für das System aufrufen. Dort finden sich Einträge zur Kernel-Processor-Power, wobei die höchste Leistung in Prozent ausschlaggebend ist. Bei uns liegt sie bei 145 Prozent - was keinen Rückschluss auf die tatsächliche Frequenz zulässt.</p>
      <p>AMD wird den Ryzen Master so aktualisieren, dass die beiden besten Boost-Kerne markiert werden und nicht mehr die mit der höchsten elektrischen Güte für Overclocking. Tools wie <a href="https://www.hwinfo.com/download/">HW-Info</a> lesen seit der v6.15-4000 Beta bereits die zwei Boost-Cores korrekt aus.</p>
    </article>
  </body>
</html>