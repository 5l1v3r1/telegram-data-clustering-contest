<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta property="og:url" content="https://hothardware.com/news/amd-ryzen-master-windows-scheduler-boost-clocks"/>
    <meta property="og:site_name" content="HotHardware"/>
    <meta property="article:published_time" content="2019-11-22T09:40:00+00:00"/>
    <meta property="og:title" content="AMD Tackles Ryzen Master, Windows Scheduler Controversy Over Ryzen 3000 Boost Clocks"/>
    <meta property="og:description" content="AMD explains why its Ryzen Master utility and Windows 10 sometimes show different Ryzen cores as being the fastest."/>
  </head>
  <body>
    <article>
      <h1>AMD Tackles Ryzen Master, Windows Scheduler Controversy Over Ryzen 3000 Boost Clocks</h1>
      <address><time datetime="2019-11-22T09:40:00+00:00">22 Nov 2019, 09:40</time> by <a rel="author" href="https://hothardware.com/author/Paul-Lilly" target="_blank">Paul Lilly</a></address>
      <figure>
        <img src="https://images.hothardware.com/contentimages/newsitem/49957/content/AMD_Ryzen_Master.jpg"/>
      </figure>
      <p>Some <a href="https://hothardware.com/tags/amd">AMD</a> platform owners have raised concerns about the Ryzen Master utility identifying a different, and perhaps wrong, fastest CPU core than the one that gets chosen by the Windows Scheduler in <a href="https://hothardware.com/news/windows-10-insider-preview-build">Windows 10</a>. Likewise, some have raised doubts that the Windows Scheduler is identifying and boosting the correct core for single threaded workloads. So, which one is actually right? Turns out they both are correct. <br/><br/>AMD's senior technical marketing manager, Robert Hallock, posted an explanation on <i>Reddit</i> that clears things up. What it boils down to is how the Ryzen Master utility and Windows 10 go about ranking cores.<br/><br/>"Windows and Ryzen Master are both correct when identifying the fastest CPU core. The performance ranking of the cores is fused at the factory and reported by firmware, and both sources draw on that table. But Windows and Ryzen Master have substantially different goals when identifying a fastest core, which can lead to the appearance of a discrepancy," Hallock explains.<br/><br/>The relative ranking of cores is handled on the firmware level, with a list maintained by reading voltage and frequency characteristics generated by the cores during final testing and assembly. Both the Ryzen Master utility and Windows 10 then reference the list to determine the fastest core selection.<br/><br/>Where things seemingly go awry (but not really) is in the OS.<br/><br/>"Windows selects and prioritizes the fastest core in the firmware with an additional criterion that there must be a second core in the same CCX that’s nearly as fast. The scheduler rotates between them to ensure one core isn’t shouldering all the single-threaded work all the time. (This is why you will sometimes see a 'one thread' task jump back and forth between two different cores.)," Hallock says.<br/><br/>So when Windows picks the fastest core to use, it also needs a partner within the same CCX to ensure optimal performance. Ryzen Master, on the other hand, uses the same firmware readings but selects the single best voltage/frequency curve in the entire processor, with <a href="https://hothardware.com/tags/overclocking">overclocking</a> as the focus.<br/><br/>Hallock says Ryzen Master's approach is especially useful for people who are chasing after frequency records on Ryzen. The core it identifies may not be the optimal one for real-world boost performance, but it's irrelevant for the goal at hand. And the reason Windows does not always align with the same selection is because if a partner core happens to be in a different CCX, crossing over from one complex to another negates any added performance there might be from using a slightly faster core.<br/><br/>Hallock explains things further in a hypothetical (and "grossly simplified") example...</p>
      <blockquote>
        <i>Let’s take a hypothetical 16-core AMD CPU and pick out a few cores. Core 0 and Core 1 in the first CCX on the first die can boost to 2.2GHz and 2.15GHz, respectively, for 2.175GHz average frequency. Core 13 and 15 in the second CCX on the other die can boost to 2.25GHz and 2.05GHz, respectively, for an average of 2.150GHz. Core 0 and 1 would be the CPPC preferred cores for Windows, but Ryzen Master would assign the gold star to Core 13. Core 13 might be the fastest core in the chip, but you can see it’s not the best choice for autonomous boosting. Pairing Core 13 to Core 0, theoretically the highest average frequency by a hair, would potentially be negated by crossing CCX boundaries.</i>
      </blockquote>
      <p>So, neither Ryzen Master or Windows are wrong, they just have different approaches with different needs and goals in mind. AMD understands this can be confusing, however, and so it is planning to update the Ryzen Master utility to flag the fastest cores in the same manner Windows does.<br/><br/>"The core pair flagged by Ryzen Master will be the same pair that were selected for the best autonomous performance," Hallock says.<br/><br/>There is an ongoing conversation happening in the <i>Reddit</i> thread, with Hallock responding to some of the questions. You can follow along (or participate) by hitting the link in the Via field below.</p>
    </article>
  </body>
</html>