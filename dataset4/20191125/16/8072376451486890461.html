<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta property="og:url" content="https://www.cbronline.com/feature/an-idiots-guide-to-kubernetes"/>
    <meta property="og:site_name" content="Computer Business Review"/>
    <meta property="article:published_time" content="2019-11-25T16:24:23+00:00"/>
    <meta property="og:title" content="An Idiot’s Guide to Kubernetes"/>
    <meta property="og:description" content="&quot;It's like a cowboy&quot;; &quot;it's like a tortoise&quot;; &quot;it's like a taxi conductor&quot;. Our Idiot's Guide to Kubernetes drew no shortage of zoological and other similes"/>
  </head>
  <body>
    <article>
      <h1>An Idiot’s Guide to Kubernetes</h1>
      <h2>Of cowboys and K8s…</h2>
      <address>
        <time datetime="2019-11-25T16:24:23+00:00">25 Nov 2019, 16:24</time>
      </address>
      <p>You may have heard people talking about Kubernetes.</p>
      <p>“We’re using K8s”, they might have said nonchalantly, because they’re on nickname terms with this bit of open source technology; developed by Google and now increasingly underpinning a wealth of “cloud-native” computing applications.</p>
      <p>You may have nodded approvingly and muttered something about “container orchestration”, while finding it more arcane than seventeenth century hermiticism; all cryptic codes and confusingly simple sounding utopianism (“run on <i>any platform</i> without <i>any</i> changes to the application code!”)</p>
      <p>Nickname terms seem a long way away…</p>
      <h3>So, what on earth is Kubernetes anyway?</h3>
      <figure>
        <img src="https://www.cbronline.com/wp-content/uploads/2019/11/daniil-vnoutchkov-Ex9oJb8V7NA-unsplash.jpg"/>
        <figcaption>Credit: Daniil Vnoutchkov</figcaption>
      </figure>
      <p>“It’s a cowboy”, says Paul Jones, Associate Partner at <a href="https://www.citihub.com/">Citihub Consulting</a>.</p>
      <p>“Modern applications should be thought of like cattle, not pets. Kubernetes autonomously directs cattle to the right fields, replaces animals that are sick and provides the herd with the food and water it needs…</p>
      <p>“No matter where it places a particular service, in short, it will ensure that the right network, storage, and configuration is made available.”</p>
      <p>Like a cowboy, it likes to operate largely quasi-autonomously.</p>
      <p>As Jones notes: “To use it, it’s best to be declarative – to describe the state you’d like to achieve, but not <i>how</i> it should be achieved. For example, you can tell Kubernetes that you’d like to have three instances of a service. If an instance dies, it will automatically create a new one in order to maintain the desired state. The same applies to storage and load balancers and other primitives that Kubernetes can control.”</p>
      <p>The containers that Kubernetes are orchestrating, meanwhile, should be as small and free from dependencies as possible. As <a href="https://www.synopsys.com/software-integrity.html?cmp=pr-sig">Synopsys</a> CyRC’s Tim Mackey puts it: “They also should have no expectation of long life span – also known as having no expectation of being “Stateful”. These attributes are part of what makes an application “cloud native”, and cloud native applications are ideal for deployment within Kubernetes.”</p>
      <p>
        <i>n.b. Computer Business Review contacted various experts to help create this Idiot’s Guide to Kubernetes. For readers with short attention spans and limited appetite for zoological metaphors, their responses boiled down to this description: it’s an OS for container-based applications running in hybrid environments; it’s not as widely used in mission-critical environments as you would think; with off-the-shelf software vendors increasingly embracing container images as the standard unit of deployment for their applications, familiarising yourself with Kubernetes is a good investment.)</i>
      </p>
      <h3>What is it gooooood for? </h3>
      <figure>
        <img src="https://www.cbronline.com/wp-content/uploads/2019/11/clint-patterson-Q3aZWmiyvpw-unsplash.jpg"/>
      </figure>
      <p>As Martin Percival, a solutions architect manager at <a href="https://www.redhat.com/en">Red Hat</a> puts it: “’Kubernetes is the orchestrator of choice for containers’.</p>
      <p>“So far so glib, but what does that actually mean both technically and for your business? What, even, is a container?</p>
      <p>“At its most basic level a container is a piece of code which carries much of what it needs to run on its back, like a tortoise. That makes a container a uniquely portable item in a software architecture, able to be deployed across different machines without traditional worries about getting mismatches caused by the changing environments.</p>
      <p>Dan Noguerol, a senior platform architect at Pivotal, makes the same point: emphasising that to understand why a business would use Kubernetes, you have to understand why they would use containers. He offers three reasons:</p>
      <p>#1 “Microservice architectures that decompose applications into smaller, independent services have benefits that include greater reusability, more frequent release cycles and improved testing. Containers are lightweight and enable better utilisation of infrastructural resources. This makes them ideally suited for supporting microservices…</p>
      <p>#2 “Certain workloads require elasticity: they must grow to support spikes in usage and shrink when idle. Containers, being lightweight and fast to start/stop, support elasticity requirements extremely well…</p>
      <p>#3 “Runtime dependencies can be challenging to manage, especially in polyglot architectures. Containers encapsulate their runtime dependencies and provide isolation between application dependencies. Anyone that has had to manage multiple versions of Java or Node.js on a server will appreciate this benefit.”</p>
      <h3>How wide used is Kubernetes?</h3>
      <figure>
        <img src="https://www.cbronline.com/wp-content/uploads/2019/11/kubernetesblog02.jpg"/>
      </figure>
      <p>Brad Heller, Director of Engineering, <a href="https://puppet.com/">Puppet</a> is not alone in emphasising that while Kubernetes is maturing fast and increasingly widely used, adoption has (in reality) been a lot more gradual than people think.</p>
      <p>He told Computer Business Review: “It seems to have been behaving similarly to the adoption of Docker.</p>
      <p>“One of the biggest drivers for adoption has been the cloud providers’ distros that makes it trivial to stand up a Kubernetes cluster and get to work. [But] much of the adoption has been from new product development. Only the most forward-leaning companies are migrating existing workloads to Kubernetes.”</p>
      <p>(These include Amadeus, Amdocs, Monzo, and Sky among others…)</p>
      <related>
        <a href="https://www.cbronline.com/news/docker-mirantis"/>
      </related>
      <p>Mark Pidgeon, VP, technical services at <a href="https://www.cbronline.com/feature/https:/www.sumologic.com">Sumo Logic</a> notes: “Our <a href="https://www.google.com/url?q=https://www.google.com/url?q%3Dhttps://www.sumologic.com/brief/continuous-intelligence-report/%26amp;sa%3DD%26amp;ust%3D1573666899008000&amp;sa=D&amp;ust=1573666899014000&amp;usg=AFQjCNGfcC966ywU2cUkAkZXluLo3DV8Bg">CI Report</a> for 2019 points to a high take up of Kubernetes by companies that are actively running in production across multiple clouds – more than 80 percent of companies running on the mix of AWS, Google Cloud and Azure had Kubernetes in place.</p>
      <p>“Sporting Group is a great example of a company using Kubernetes – they can scale up their apps and services based on demand. When the football is on on a Saturday at 3pm, their traffic goes up massively compared to a Tuesday morning. Kubernetes helps them manage those peaks of IT usage.”</p>
      <h3>How Challenging is it to Orchestrate this Orchestrator?</h3>
      <figure>
        <img src="https://www.cbronline.com/wp-content/uploads/2019/11/mark-fletcher-brown-t2mjbIpnxVY-unsplash.jpg"/>
      </figure>
      <p>Decidedly difficult, comes the answer from many.</p>
      <p>Yet as James Strachan, distinguished engineer, <a href="https://www.cloudbees.com/">CloudBees</a> says that regardless of the challenges, it’s rewarding: “Kubernetes is a pretty large and powerful platform; it takes a while to fully understand all of its ideas, concepts, features and tools.</p>
      <p>“However learning about Kubernetes is very rewarding; by following the Kubernetes approaches (canonical REST APIs with versioning, controllers, feedback loops based on declarative metadata etc) it helps you learn how to build your own modern cloud native microservices… it’s pretty easy to get started deploying applications as a developer.”</p>
      <p>Yet with an ecosystem still growing up around Kubernetes, and companies still exploring different ways to manage their emerging microservices, there are plenty of potential pitfalls (and ways to circumvent them).</p>
      <p>Patrick Callaghan, an enterprise architect at <a href="https://www.datastax.com/">DataStax</a> notes one hurdle many businesses face: “The challenge with microservices is that it still creates data. You have to take data out of the application and use it somehow, either for powering other application functions or for storing and analysing over time.</p>
      <p>“Either way, that data has to go somewhere.</p>
      <p>“With applications being so distributed across multiple components, database deployments will also have to run in distributed environments too. There’s still a lot of work that is going on here around best practices.</p>
      <p>He adds: “You can look at distributed data from a “per container or service” perspective – each container set will therefore store its data separately. That works, but it is hard to scale up and manage over time. Alternatively, you can centralise all the data that each of your microservices creates to one distributed database with as many nodes as required in one logical unit. For example this is what Monzo is doing with Cassandra, pulling 1,500 microservices’ data into its <a href="http://cassandra.apache.org/">Apache Cassandra</a> instance.</p>
      <p>“The team can run this more efficiently than having multiple database instances all serving different container instances or microservices installations. That will be a common pattern for deployment at scale around microservices.”</p>
      <h3>What about security?</h3>
      <figure>
        <img src="https://www.cbronline.com/wp-content/uploads/2019/11/kubernetes1.jpg"/>
      </figure>
      <p>As Pivotal’s Noguerol puts it: “Application isolation requirements are an important aspect to consider here; default Kubernetes offers only a simple name-spacing mechanism that may not provide adequate workload isolation.</p>
      <p>“To meet security requirements, one may need to either employ additional mechanism(s) to enforce isolation or consider running multiple Kubernetes clusters. The general consensus of the community seems to have gravitated towards the latter.</p>
      <p>Tim Mackey, principal security Strategist for the <a href="https://www.synopsys.com/software-integrity.html?cmp=pr-sig">Synopsys</a> Cybersecurity Research Centre adds: “Often a container is developed without a full understanding of what security and compliance profiles the operations team might have.</p>
      <p>“The perfect example of this are containers which expect to run as a ‘root’ user. A root user has the ability perform highly privileged operations on a system and novice container developers often use the elevated privileges of root as a workaround for explicitly stating the desired configuration.</p>
      <p>“For example, a non-root user on a Linux system is prevented from binding to a low network port. If a container image exposes an HTTP service on port 80, then it implicitly expects to run as a root user and will fail to run on a secured Kubernetes system. When learning Kubernetes, one of the most important steps is to understand the security contexts available and how to identify when the security context could prevent something from running properly.</p>
      <p>But Red Hat’s Martin Perceval says K8s is improving fast.</p>
      <p>“Kubernetes has already grown to encompass new features which have made it a better container platform for enterprise software. Elements like security and advanced networking have been pulled into the main body of the upstream Kubernetes code, and are now available for everyone to use.</p>
      <p>“It is, however, true that there will always be supplementary needs to cover other aspects of an enterprise solution; things like logging and performance monitoring. This is where secondary packages like Istio come into play, bringing extra functionality, but keeping the Kubernetes core to a reasonable size and set of features.</p>
      <p>He adds: “Red Hat realised very early on that a naked Kubernetes does precisely nothing more than manage itself. It’s a bit like spinning up your favourite operating system and then never running anything on it. So in the very first version of OpenShift 3 (back in 2015), Red Hat added a development framework that made the creation and deployment of apps into Kubernetes very much easier no matter what level of approach you took, from just writing code and letting the system do the rest, all the way to deploying containers you built yourself. Since Google has now added similar features into Skaffold (GA Nov 7 2019) we will probably see more vendors adding a similar coding layer into their own approaches to Kubernetes.”</p>
      <p>Kubernetes is free and open source. It can be downloaded from its <a href="https://github.com/kubernetes/kubernetes/releases">Github repo</a>. So should businesses be deploying it themselves, or relying on a third-party service provider? Perry Krug, Architect, office of the CTO at <a href="https://www.couchbase.com/">Couchbase</a>, notes: “there’s much to be gained from using the expertise built into fully-managed Kubernetes layers. The benefits of doing it yourself are similar to any area: increased control and flexibility, at a lower cost. Yet this comes at a higher cost of knowledge and internal resources. You could make the same argument around managing your own datacentre or building out your own hardware – if it’s not your core competency, let someone else do it for you.”</p>
      <related>
        <a href="https://www.cbronline.com/news/skaffold-kubernetes-istio"/>
      </related>
      <related>
        <h4>Related News</h4>
        <a href="https://www.cbronline.com/news/half-life-alyx"/>
        <a href="https://www.cbronline.com/news/aws-files-court-documents"/>
        <a href="https://www.cbronline.com/news/canonical-charmed-osm"/>
      </related>
    </article>
  </body>
</html>