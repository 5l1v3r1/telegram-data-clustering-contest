<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta property="og:url" content="https://dou.ua/lenta/articles/estimation-of-labor-input-2/"/>
    <meta property="og:site_name" content="ДОУ"/>
    <meta property="article:published_time" content="2019-11-25T13:00:00+00:00"/>
    <meta property="og:title" content="Оценка трудоемкости проектов разработки. Часть 2"/>
    <meta property="og:description" content="Качественная оценка — необходимое, но недостаточное условие успеха. Следование лучшим практикам управления проектом и изменениями на всех его стадиях абсолютно необходимы. При этом хорошо выполненная и структурированная оценка может сильно помочь в последующих проектных активностях. Александр Катруша, Senior Engineering Manager, дает рекомендации по оценке трудоемкости проектов."/>
  </head>
  <body>
    <article>
      <h1>Оценка трудоемкости проектов разработки. Часть 2</h1>
      <address><time datetime="2019-11-25T13:00:00+00:00">25 Nov 2019, 13:00</time> by <a rel="author" href="https://dou.ua/users/oleksandr-katrusha/" target="_blank">Oleksandr Katrusha</a></address>
      <p><a href="https://dou.ua/lenta/articles/estimation-of-labor-input-1/">В первой части статьи</a> мы рассмотрели общие соображения о целях, структуре и сложностях оценки. Теперь рассмотрим как подойти к определению скоупа и требований и как, собственно, получить и описать заветные числа предполагаемой трудоемкости проекта. А в конце «под капотом» вас ожидает немного математики.</p>
      <h3>Метод оценки</h3>
      <p>В этой части даны пошаговые рекомендации для оценки трудоемкости проекта. Практически за каждым пунктом стоят годы опыта, успехов и ошибок. Предложенный метод в основном применим к проектам на этапе, когда требования проработаны до уровня пользовательских или функциональных. Многие же советы и рекомендации подойдут к любым проектам разработки и инженерным проектам вообще.</p>
      <h4>Шаг 1. Подготовка (Prerequisites)</h4>
      <p><b>1. Выделяйте либо требуйте ресурсы для оценки.</b> К сожалению, далеко не все менеджеры и клиенты понимают всю сложность и трудоемкость качественного процесса оценки. Требуйте, чтобы у оценщиков было достаточно времени и прочих ресурсов для работы. Чем больше времени инвестировано в оценку, тем она, как правило, точнее. Даже несколько минут анализа задачи могут существенно повысить точность по сравнению с оценкой «на ходу».</p>
      <p>Помимо времени, может понадобиться доступ к существующим системам, их коду и документации, данным, лицензиям, экспертам и прочим ресурсам.</p>
      <p><b>2. Знайте стейкхолдеров проекта и людей, принимающих решения.</b> Часто у разных людей (например, представителей заказчика) разное видение и интерпретация того, что и как нужно сделать. Постарайтесь определить все картины мира либо обозначить основные конфликты в них.</p>
      <p><b>3. Внимательно читайте контракт, если он есть, пусть и в форме черновика.</b> Вы можете открыть для себя много нового в отношении формальных обязательств по проекту. Например, требования к качеству работ, поставке, срокам, документации. Это напрямую влияет на объем работ и их оценку.</p>
      <p><b>4. Налаживайте взаимодействие с отделом продаж.</b> Рассинхронизация между продавцами и исполнителями — весьма частая причина проектных проблем. Как правило, главный KPI продавцов — объем продаж, проблемы выполнения проектов их беспокоят намного меньше. Убедитесь, что вы знаете, что они продают, а они знают как вы собираетесь это выполнять.</p>
      <h4>Шаг 2. Опишите требования и рамки проекта (scope)</h4>
      <h4>Четыре категории требований по степени известности</h4>
      <p>В момент оценки требования можно условно разделить на 4 части по степени известности, понятности и количеству рисков.</p>
      <figure>
        <img src="https://s.dou.ua/storage-files/image1_Ps667Ib.png"/>
      </figure>
      <ol>
        <li>Known knowns. Заявленное в явном виде, понятное и достаточное для точной оценки. Что с этим делать? Оценить.</li>
        <li>Unknown knowns. Косвенное заявленное либо не заявленное, но легко доступное. Не ленитесь прочитать требования и спецификации, «прокликать» гиперссылки в них, зайти на сайт клиента, спросить <a href="https://en.wikipedia.org/wiki/Subject-matter_expert">SME</a>. Это не требует больших трудозатрат, но позволяет намного лучше понять требования и выявить скрытые риски. Что с этим делать? Найти, прочитать, спросить, прояснить, перевести в Known knowns, оценить.</li>
        <li>Known unknowns. Недостаточные требования, неготовая документация и тому подобное. Например, заказчик знает, что будет интеграция с другими системами, но не знает протоколов, форматов и объемов обмена данными. Что с этим делать? Прежде всего, решить, хотим ли мы брать на себя риски по оценке и выполнению этих требований. Если да, то неплохо бы сделать предположения насчет задач, которые мы не знаем, и добавить буфер времени на всякий случай. Если же нет, выписать явно, что эти требования не оценены либо остались вне рамок проекта.</li>
        <li>Unknown unknowns. Практически во всех проектах происходит что-то, о чем и не подозревали вначале. Например, баги во внешних библиотеках, сюрпризы от поставщиков браузеров и операционных систем, сложности в требованиях либо реализации, упущенные требования. Изменения в требованиях сюда напрямую не относятся, но часто покрываются за счет этого буфера, поскольку запускать процедуры <a href="https://www.pmi.org/learning/library/project-change-management-knowledge-area-7340">управления изменениями</a> на каждый клиентский запрос весьма накладно. Мало что можно с этим сделать, кроме добавления буфера.</li>
      </ol>
      <h4>Действия по подготовке требований к оценке</h4>
      <ul>
        <li>Категоризируйте требования и все, что может ими считаться, как указано выше.<br/>Помимо спецификаций и официальных документов, стоит проанализировать также протоколы встреч, письма с намерениями, все вплоть до разговоров в курилках, «поскольку ожидания в будущем часто становятся требованиями либо влияют на них.Зафиксируйте ожидания, формальные и неформальные, функциональные и нефункциональные требования, ссылки на другие документы, спецификации и стандарты.По возможности проверьте актуальность предоставленной документации, поскольку нередки случаи оценки по устаревшим документам.</li>
        <li>Постарайтесь подтвердить список требований и предположений с заказчиком. Это может выйти не сразу. В крайнем случае можно прибегнуть к приему «согласование по умолчанию»: высылайте письмо с просьбой подтвердить либо прокомментировать скоуп, аккуратно намекнув, что отсутствие ответа означает молчаливое подтверждение.</li>
        <li>Явно опишите то, что в скоуп не входит: что вы не оцениваете и не собираетесь делать, поскольку любое, даже самое детальное описание подвержено различным интерпретациям, сознательным или несознательным. Типичный пример: клиент может ожидать бесконечной поддержки программы, которую вы пишете, если гарантийный период поддержки не прописан явно.</li>
      </ul>
      <p>Если же вы по какой-то причине не оценили задачу, необходимо прямо написать об этом:</p>
      <p><b>Feature</b> <b>Estimate</b> Login page24mh— оцениваемSingle sign-onNOT ESTIMATED— оценим позже, когда будет понятнееSign-up linkOut of scope— не собираемся оценивать и делать</p>
      <p>Никогда не ставьте нулевую оценку, если вы не оценили задачу. Рано или поздно кто-то подумает, что задача не требует времени, в моей практике такие случаи были.</p>
      <ol>
        <li>Идентифицируйте рискованные требования. Под рискованными я подразумеваю такие требования, как «сайт должен работать в любой точке мира и поддерживать все языки». Они часто формулируются одной строчкой, но могут увеличить трудозатраты вашего проекта на порядок. Как правило, заказчик не осознает всей сложности их реализации и ему не нужны «все языки». К сожалению, для выявления таких требований приходится внимательно перечитывать всю доступную документацию, поскольку эти «сокровища» могут быть раскиданы на сотнях страниц текста.</li>
        <li>Соберите <a href="https://en.wikipedia.org/wiki/Non-functional_requirement">нефункциональные требования</a>. Мало кто думает в начале проекта о них, потому стоит по крайней мере поставить вопрос, выбить из заказчика хотя бы приблизительные оценки количества данных, пользователей, доступности системы и внести их в предположения. Многие из этих параметров могут критически повлиять на ваши архитектурные решения, а следовательно, и на трудозатраты проекта.</li>
        <li>Тщательно проанализируйте унаследованные артефакты (legacy). С началом проекта все они, к сожалению, могут стать вашими. Это касается не только кода, но и документации, данных, контрактов, сторонних библиотек и прочих вещей, составляющих проект. Часто проще переписать код, чем пытаться исправить его после предыдущих «специалистов», и лучше об этом знать заранее. Помимо технического долга, вам могут перейти прочие виды долгов, такие как зависимости от внешних компонент, контрактные обязательства, плохая документация, нецелостные данные и так далее.</li>
      </ol>
      <h4>«Сделайте так же, но лучше»</h4>
      <p>Важное предостережение по оценке проектов переписывания старых систем на новые платформы без формальных требований. Обычно такие задачи формулируются в виде: «Сделайте то же самое, только лучше и на новой платформе, поскольку все программисты на COBOL уже на пенсии или умерли». Мне неизвестны надежные способы оценки таких проектов. Доступ к старой системе и даже к ее исходному коду не спасает, поскольку комбинаторная сложность всех сценариев выполнения кода, входных данных, настроек системы и окружения не позволяет восстановить логику работы приложения за разумное время. Но большая проблема состоит в том, что вы никогда не сможете понять, закончена работа или нет, из-за неизвестного количества сценариев, которые должны работать одинаково либо схоже в двух системах.</p>
      <p>Очень грубой оценкой могут служить трудозатраты на написание и поддержку старой системы, если они известны. Для адекватной оценки разработки системы необходимы требования, внешние по отношению к ней, «либо наличие у оценщика хороших знаний и опыта в предметной области.</p>
      <h4>Шаг 3. Создайте ИСР на базе требований</h4>
      <p>Создание иерархической структуры работ (<a href="https://en.wikipedia.org/wiki/Work_breakdown_structure">ИСР</a>) — одна из самых трудоемких и критичных операций в оценке проекта. Методики создания ИСР из требований — тема отдельной статьи или книги. Но я позволю себе несколько соображений, важных для нашей темы:</p>
      <ol>
        <li>ИСР, основанная на <a href="https://project-management.com/wbs-types-work-breakdown-structure/">декомпозиции по продукту</a> (noun-oriented), проще для оценки по этому методу, чем основанная на разбиении по другим критериям.</li>
        <li>Уровень детализации ИСР. Строки нижнего уровня не должны занимать более 40, максимум 80 часов.</li>
        <li>Вопреки общепринятым рекомендациям покрывать 100% работ, наша ИСР может не содержать некоторые виды работ вроде встреч и менеджмента. Ниже будет понятно почему.</li>
      </ol>
      <p>Например, для простейшей системы обработки заказов ИСР может выглядеть так:</p>
      <ol>
        <li>Login page<br/>1.1. UI1.2. Login1.3. Logout</li>
        <li>Order page<br/>2.1. UI2.2. Create order2.3. Confirm order2.4 Cancel order2.5. Search and filtering</li>
        <li>Integration with payment<br/>3.1. Outbound3.2. Inbound</li>
      </ol>
      <h4>Шаг 4. Зафиксируйте предположения (Assumptions)</h4>
      <p>Если что-то может быть понято неправильно, это будет понято неправильно. Не стоит надеяться, что у вас и читателей ваших документов одинаковое понимание терминологии, языка, одинаковый <a href="https://www.goodreads.com/quotes/3915-common-sense-is-not-so-common">здравый смысл</a>. Даже люди, выросшие в одной языковой и культурной среде, одного возраста и образовательного уровня могут понять один и тот же документ совершенно по-разному. Не говоря уж о конфликтных ситуациях, в которых другая сторона намеренно интерпретирует документы в свою пользу.</p>
      <p>Например, за время выполнения проекта последняя версия вашего базового фреймворка может вырасти на несколько единиц, и клиент при сдаче проекта вправе потребовать апгрейда на нее, если другое не указано в предположениях. Со стороны исполнителя же логичным может показаться, что за это должен платить заказчик.</p>
      <p>Предупреждение возможных разногласий в трактовках требует опыта и усилий. Порой нужно записывать практически каждое слово на встрече с клиентом или командой, но такая работа существенно снижает будущие риски проекта.</p>
      <p>Кроме устранения разногласий в трактовках, другая роль предположений — это ограничения по реализации, в которые вы хотите вписаться. То есть описание того, при каких условиях ваши оценки остаются актуальными, например:</p>
      <ul>
        <li><a href="https://www.agilealliance.org/glossary/definition-of-done/">Definition of Done</a> для задач и всего проекта. Фиксирует общее понимание критериев сдачи задач либо проекта.</li>
        <li>«Срок годности» оценки. Все находится в постоянном изменении: рынок, бизнес, люди, технологии и наше представления о них. Если ваш клиент захочет вернуться к уже сделанной оценке через полгода, хорошо бы ее пересмотреть на предмет актуальности.</li>
        <li>Версии. Для каких версий языков, браузеров, операционных систем, компонент, железа, фреймворков, других продуктов верны ваши оценки.</li>
        <li>Доступ к внешним ресурсам. Если вы работали с большими корпорациями, то вам могут быть знакомы мучения с получением доступа к их серверам, системам и прочим ресурсам, которые могут повлиять на качество оценки.</li>
        <li>При использовании, особенно первом, внешних компонент, API стоит внести предположение о том, что они будут работать так, как указано в документации, а их поставщик будет оперативно отвечать на ваши запросы.</li>
        <li>Требования к железу и производительности. Стоит указать, на каком железе ваше система сможет показывать плановую производительность. Даже производительность сред разработки и сетевого соединения между ними, базой и рабочими станциями членов команды может серьезно повлиять на время разработки.</li>
        <li>Если вы знаете, что оцениваете <a href="https://www.webopedia.com/TERM/B/brownfield.html">brownfield-проект</a>, не имея доступа ко всем старым артефактам, напишите это в предположениях: «При получении доступа к старому коду оценка может быть пересмотрена».</li>
        <li>Лицензирование, прочие ресурсы и расходы. Хорошо бы согласовать, что вам нужно будет для оценки, если это предоставляется клиентом либо третьей стороной.</li>
        <li>Ожидаемый объем данных. Большие базы данных и файлы могут серьезно увеличить время любых операций с ними. Одно только копирование терабайтной базы на локальный компьютер может занять несколько дней или недель при плохом сетевом соединении.</li>
        <li>Любые комментарии, сомнения, противоречия. На одном из проектов мы делали технический апгрейд систем на новую версию фреймворка. Нашей задачей было пройти стандартные шаги апгрейда, убедиться, что код компилируется и запускается и что целостность данных не нарушена. Клиент при этом ожидал полностью протестированную и функционирующую систему. Этот проект шел долго и трудно и в конце концов был закрыт с большими убытками.</li>
      </ul>
      <h4>Шаг 5. Оцените каждую задачу и проект в целом</h4>
      <p>Предложенный метод позволяет достаточно реалистично оценить трудозатраты на проект, зная <b>только затраты на разработку</b> и субъективную оценку рисков. Если есть возможность, оцените также другие типы работ, кроме разработки, это может повысить точность оценки и уровень доверия к ней.</p>
      <p>Используемые в расчетах коэффициенты выведены на основе прошлых проектов разработки ERP-систем, в оценке и выполнении которых я участвовал. Коэффициенты могут и должны меняться в зависимости от предметной области, технологий, требований, опыта команды и прочих факторов. Весьма надежным источником коэффициентов могут быть данные систем учета рабочего времени по аналогичным проектам в разрезе затрат на разные категории работ (бизнес-анализ и дизайн, разработка, тестирование, встречи, менеджмент и прочее).</p>
      <h4>1. Договоритесь о том, что есть разработка</h4>
      <p>Перед началом непосредственной оценки задач неплохо бы договориться о том, из каких действий состоит разработка. Например, в виде такого списка:</p>
      <figure>
        <img src="https://s.dou.ua/storage-files/image3_qdVbyiL.png"/>
      </figure>
      <p>Среднестатистический разработчик во время оценки, скорее всего, оценит только действия, выделенные красным. Понимание разработчика, менеджера и клиента о том, закончена ли разработка задачи, может отличаться кардинально, см. <a href="https://www.agilealliance.org/glossary/definition-of-done/">Definition of Done</a>. Потому необходимо прийти к общему пониманию.</p>
      <p>Далее, действия 2–5 выполняются для каждой строки ИСР, если соответствующий тип работ необходим.</p>
      <h4>2. Оцените время разработки</h4>
      <p>Для каждой строчки ИСР оцените реалистичное время разработки в выбранных единицах измерения. Учитывая присущий большинству людей оптимизм, после этого стоит провести мысленный эксперимент по моделированию худшего случая, когда все идет не так. Это поможет выявить скрытые риски и скорректировать реалистичную оценку в большую сторону. Оценка должна <a href="https://www.tothenew.com/blog/how-to-estimate-story-points-in-agile/">учитывать</a> количество работы, сложность и риск.</p>
      <p>Если различные виды разработки оцениваются отдельно в рамках одной задачи, например front-end и back-end, то их оценки необходимо сложить.</p>
      <p>Будьте более пессимистичны в оценке больших задач и оптимистичны в оценке малых. Ошибки недооценки на больших задачах, очевидно, более рискованны. Кроме того, переоценка малых задач сильно бросается в глаза и создает впечатление непрофессионализма или сильной переоценки всего проекта, подрывая доверие к вам. При этом недооценка малых задач практически никакого риска для проекта не несет.</p>
      <p>Если ваша команда сформирована и сработана, хорошие оценки может дать <a href="https://en.wikipedia.org/wiki/Planning_poker">Planning poker</a>, хотя это и относительно дорогая техника.</p>
      <h4>3. Добавьте время на работу с требованиями и дизайнами</h4>
      <p>Добавьте время на выяснение, описание, согласование и уточнение функциональных требований и дизайнов, а также архитектурное проектирование и сопровождение — около 70% времени разработки при наличии хорошо сформулированных бизнес-требований.</p>
      <h4>4. Добавьте время на обеспечение качества</h4>
      <p>Добавьте время на работы по тестированию (написание тестовой документации и непосредственно ручное тестирование, включая интеграционное) — 50% от времени разработки. Если вы собираетесь использовать автоматизированное тестирование, отдельно добавьте время и на него.</p>
      <h4>5. Добавьте время на риски</h4>
      <p>Оцените степень риска (Contingency) по задаче. Это субъективный показатель того, насколько разработчик уверен в оценке и понимании задачи по следующей шкале:</p>
      <ul>
        <li>+5% — полностью уверен, низкий риск;</li>
        <li>+15% — средний риск;</li>
        <li>+30% — риск высокий.</li>
      </ul>
      <p>Выше 30% — слишком высокий риск, задача требует дополнительного исследования либо разбиения на подзадачи. Хотя на ранних стадиях проекта, в условиях высокой неопределенности, коэффициент риска может быть выше.</p>
      <p>Степень риска затем умножается на полное время выполнения задачи (BA + DEV + TST).</p>
      <h4>6. Добавьте время на общепроектные задачи</h4>
      <p>Для всего проекта добавьте:</p>
      <ul>
        <li>Время на встречи — 20% от времени разработки. Гибкие методологии могут потребовать и больше времени на встречи.</li>
        <li>Время на менеджмент — 15% времени разработки. Включает в себя время тимлида на управление командой.</li>
        <li>Время на управление инфраструктурой (DevOps) — 5–10% времени разработки.</li>
        <li>Время на прочие работы вашего проекта (например, автоматизированное тестирование или командировки).</li>
        <li>Проектный буфер — от 5 до 15% от суммарного времени, в зависимости от рисков, размера проекта, сложности предметной области и требований, степени взаимосвязи разных задач.</li>
      </ul>
      <h4>7. Сведите все вместе</h4>
      <p>В результате для нашей простой системы обработки заказов выйдет примерно такой расчет:</p>
      <figure>
        <img src="https://s.dou.ua/storage-files/image2_CSaouD0.png"/>
      </figure>
      <p>BA &amp; UI — Business analysis and UX/UI design<br/>DEV — Development<br/>TST — Test<br/>Cont — Contingency</p>
      <p>Красным цветом отмечены числа, которые необходимо получить от оценщиков. Остальные же вычисляются автоматически.</p>
      <p>Округляйте оценку до целых часов, десятков, сотен, в зависимости от конечного результата. Число 1574,56 может создать у читателя ложное ощущение точности, в отличие от 1580 или 1600.</p>
      <p>Заметьте, что трудоемкость всего проекта в три раза выше трудоемкости непосредственно разработки: 971 человеко-час против 312. Интересно, что это соотношение совпадает с выводом в классической книге Ф. Брукса по управлению проектами <a href="https://www.amazon.com/Mythical-Man-Month-Software-Engineering-Anniversary/dp/0201835959">«Мифический человеко-месяц»</a>, написанной аж в 1975 году. Оно также может служить грубой проверкой полноты оценки.</p>
      <h4>Шаг 6. Оформите оценку</h4>
      <p>Хорошая «упаковка» оценки не менее важна, чем ее структура и цифры. Правильная коммуникация — критически важная часть процесса оценки. Документ должен выглядеть аккуратно, профессионально и быть интуитивно понятным.</p>
      <p>Постройте структуру документа так, чтобы читатель не мог не прочесть определение рамок проекта и предположения. Поместите их на первую страницу презентации, первый лист Excel. У вас и у адресата документа должно быть очень близкое, если не идентичное понимание того, что и на каких условиях оценено.</p>
      <p>Имейте в виду, что любая оценка, озвученная вашему менеджменту или заказчику, может быть воспринята как обещание (commitment). Предположения и оговорки забудутся, а число или дата — запомнятся.</p>
      <p>При большой вариативности скоупа либо нежелании заказчика его фиксировать хорошей идеей будет предложить несколько вариантов, как это делают маркетологи в других областях (пакет «Элит», «Бизнес», «Эконом»). Тогда заказчик сможет оценить в деньгах стоимость и риски плохо определенных требований и рамок и принять более осознанное решение. Побочный маркетинговый эффект такого подхода заключается в том, что вы рассчитываете за заказчика различные варианты и риски и предоставляете ему выбрать, это ценно само по себе.</p>
      <p>Уровень детализации документа оценки зависит от конкретного проекта, клиента и ваших с ним взаимоотношений. Здесь сложно давать универсальные советы. Некоторые клиенты хотят видеть все детали. Иных же, как правило более вам доверяющих, интересует только конечная цифра.</p>
      <p>Чем выше начальство, принимающее решение, тем менее интересны ему детали и более — конечная сумма. Потому при представлении оценок топ-менеджменту стоит убедиться, что в них включено все, что можно более-менее обосновать. Уменьшить бюджет проекта легче, чем увеличить.</p>
      <h3>Чек-листы</h3>
      <p>Настойчиво рекомендую создавать, использовать и пропагандировать контрольные списки (чек-листы). Неважно, сколько вы проектов оценили в своей жизни, всегда есть шанс что-то упустить. Отличная книга по этой теме — <a href="https://www.amazon.com/Checklist-Manifesto-How-Things-Right/dp/0312430000">The Checklist Manifesto: How to Get Things Right</a>, в которой ее автор, Атул Гаванде, описывает, как чек-листы спасают здоровье и жизни в авиации и медицине. Этот дешевый и простой инструмент может однажды спасти и ваш проект.</p>
      <p>Примеры пунктов, которые использовал я для самоконтроля, чтобы не забыть о времени:</p>
      <ul>
        <li>на планирование, учет рабочего времени, контроль бюджета;</li>
        <li>проектную, финансовую и прочую отчетность;</li>
        <li>прояснение и обновление требований и дизайнов;</li>
        <li>перевод с разных языков;</li>
        <li>онбординг и обучение новых сотрудников;</li>
        <li>подготовку демо данных и окружения, подготовку и проведение демо;</li>
        <li>подготовку релизов: упаковку, перепроверку, поставку, написание релизной документации;</li>
        <li>обновление документации после изменений в коде;</li>
        <li>саму оценку (за нее в конце концов тоже кто-то должен заплатить);</li>
        <li>пострелизную поддержку и гарантию. Перечитайте соответствующие разделы контракта;</li>
        <li>проверку качества кода (будь то автоматическая или ручная) и приведение его к нужному уровню;</li>
        <li>автоматизированное тестирование;</li>
        <li>тестовую документацию;</li>
        <li>различные виды тестирования, помимо функционального;</li>
        <li>аудиты и сертификации вашего решения;</li>
        <li>поддержку окружений разработки и затраты на возможные даунтаймы;</li>
        <li>получение доступов и простои из-за их отсутствия;</li>
        <li>борьбу с ошибками в унаследованном коде или сторонних приложениях, время на интеграцию с ними;</li>
        <li>технический и прочий долг с прошлых фаз или подпроектов;</li>
        <li>управление тестовыми и реальными данными, их миграцию при изменении схемы структуры данных;</li>
        <li>разработку системы безопасности, тест на безопасность;</li>
        <li>ревью кода, рефакторинг и повторное тестирование после него;</li>
        <li>тест и настройку производительности;</li>
        <li>синхронизацию с другими командами;</li>
        <li>промежуточные апгрейды на новые версии фреймворков и компонент;</li>
        <li>риски использования новых технологий, сервисов или компонент, работы в новых предметных областях.</li>
      </ul>
      <h3>Немного математики</h3>
      <p>В принципе, вышеизложенного достаточно для того, чтобы применять этот метод для оценки ваших проектов. Далее — немного математики «под капотом» и моих мыслей на тему оценки и выполнения проекта. Буду благодарен профессиональным математикам за комментарии и исправления неточностей.</p>
      <h4>Случайные величины</h4>
      <p>Время выполнения проекта, как и каждой его задачи, — <a href="https://en.wikipedia.org/wiki/Random_variable">величины случайные</a>. Локальная цель оценки проекта — найти <a href="https://en.wikipedia.org/wiki/Confidence_interval">доверительный интервал</a> трудозатрат проекта с высоким уровнем доверия.</p>
      <p>Эмпирически мы знаем, что плотность распределения времени выполнения задачи можно смоделировать так, как показано на рисунке ниже, с длинным правым «хвостом» (своего рода следствие законов <a href="https://en.wikipedia.org/wiki/Parkinson%27s_law">Паркинсона</a> и <a href="https://en.wikiquote.org/wiki/Murphy%27s_law">Мерфи</a>), поскольку количество негативных рисков, по сути, не ограничено. В отличие от позитивных рисков.</p>
      <figure>
        <img src="https://s.dou.ua/storage-files/image4_4AqcBgH.png"/>
        <figcaption>
          <i>
            <a href="https://onlinepmcourses.com/project-estimation-using-pert-method/">Источник</a>
          </i>
        </figcaption>
      </figure>
      <p>Для начала нам нужно найти <a href="https://en.wikipedia.org/wiki/Expected_value">математическое ожидание</a> времени выполнения каждой задачи, составляющей проект (говоря строго, сделать его оценку, поскольку истинное распределение нам недоступно).</p>
      <h4>Критика метода трех точек</h4>
      <p>Классический метод нахождения оценки математического ожидания — это <a href="https://en.wikipedia.org/wiki/Three-point_estimation">метод трех точек</a>. В нем предлагается оценить некое оптимистическое, реалистичное и пессимистическое время на задачу:</p>
      <figure>
        <img src="https://s.dou.ua/storage-files/image7_dQVUg8p.png"/>
      </figure>
      <p>Затем с помощью формул найти оценку взвешенного среднего и стандартного отклонения. Формулы для нахождения среднего зависят от предполагаемого распределения, <a href="https://en.wikipedia.org/wiki/PERT_distribution">PERT</a> либо <a href="https://en.wikipedia.org/wiki/Triangular_distribution">треугольного</a>:</p>
      <figure>
        <img src="https://s.dou.ua/storage-files/image6_S4nvwPA.png"/>
      </figure>
      <p>Заметьте, что даже в общепринятых описаниях метода нет четких определений и различия между самым вероятным (most likely) и реалистичным. Также не каждый разработчик знает и понимает, что такое математическое ожидание.</p>
      <p>Представим, что мы дали одну и ту же задачу 25 разработчикам примерно одинаковой квалификации. И получили фактические значения потраченного времени, как на диаграмме ниже. Математическое ожидание в таком случае будет равно 6,16, а наиболее вероятное время выполнения — 5. То есть при неправильной коммуникации реалистичной оценки можно «промазать» на 20–25%.</p>
      <figure>
        <img src="https://s.dou.ua/storage-files/image9_7nJhg7H.png"/>
      </figure>
      <p>Отдавая должное строгости метода трех точек, должен заметить, что, на мой взгляд, он не дает существенно большей точности, чем описанный мною прием «Реалистичная оценка + риск». По крайней мере, по трем причинам:</p>
      <ol>
        <li>Придумывать три величины для каждой задачи достаточно трудоемко. На практике оптимистические и пессимистические оценки могут проставляться «от фонаря», особенно если задач десятки или сотни.</li>
        <li>Неточность в определениях, что есть a, m, b, вносит неточность и в оценку.</li>
        <li>«Риск задачи», на мой взгляд, намного более интуитивная категория, чем «три точки».</li>
      </ol>
      <p>При этом метод трех точек можно порекомендовать для отдельных больших и рискованных задач. А также для борьбы с излишней оптимистичностью оценщика и корректировки реалистичной оценки.</p>
      <h4>Центральная предельная теорема</h4>
      <p>Говоря строго, гипотеза о том, что оценка всего проекта равна сумме оценок всех его задач, требует доказательства. Итак, допустим мы получили математическое ожидание трудозатрат для каждой задачи. Далее нам поможет одна из самых полезных теорем математики, а именно <a href="https://en.wikipedia.org/wiki/Central_limit_theorem%20">центральная предельная теорема</a>:</p>
      <p>
        <i>Сумма достаточно большого количества слабо зависимых случайных величин, имеющих примерно одинаковые масштабы (ни одно из слагаемых не доминирует, не вносит в сумму определяющего вклада), имеет распределение, близкое к нормальному.</i>
      </p>
      <p>То есть при некоторых допущениях (большое количество величин, одинаковые масштабы, слабые зависимости) сумма оценок задач будет неплохим приближением времени выполнения всего проекта, при этом распределенным практически нормально.</p>
      <p>На практике считается, что слагаемых должно быть не менее 20.</p>
      <figure>
        <img src="https://s.dou.ua/storage-files/image8_k6DiCqx.png"/>
        <figcaption>
          <i>
            <a href="https://www.clydebankmedia.com/blog/business/process-optimization/what-is-six-sigma">Источник</a>
          </i>
        </figcaption>
      </figure>
      <p>Таким образом, при обозначенных условиях мы можем взять сумму оценок всех задач с учетом рисков в качестве оценки мат. ожидания суммарных трудозатрат проекта.</p>
      <h4>Увеличиваем доверительный интервал</h4>
      <p>Итак, подойдет ли нам сумма оценок всех задач в качестве финальной оценки? Только в случае, если нас удовлетворит 50-процентная вероятность попадания в бюджет... Чтобы быть более уверенным в завершении проекта в срок и в рамках бюджета, необходимо добавить еще некоторую величину. При использовании трехточечного метода для всех задач ее возможно вычислить достаточно строго, например +3 сигмы для доверительного интервала в 99,7%.</p>
      <p>В нашем же методе добавляем проектный буфер в размере от 5% до 15%, величина которого определяется выявленными рисками, взаимозависимостями между задачами, размером проекта, а также лояльностью клиента к такого рода перестраховкам:</p>
      <ul>
        <li>5% — проект небольшой, требования понятны и стабильны, риски низкие;</li>
        <li>15% — проект большой, требования и скоуп не до конца определены, есть сильные взаимозависимости между задачами, присутствуют риски, такие как использование новых технологий, наличие унаследованных артефактов, зависимость от внешних компонент или подрядчиков.</li>
      </ul>
      <p>Если есть обоснованные подозрения, что заказчик потребует убрать проектный буфер для сокращения бюджета, можно пропорционально увеличить оценки индивидуальных задач в конечном документе.</p>
      <p>Таким образом, наш метод оценки получает некое нестрогое математическое обоснование.</p>
      <h3>Заключение</h3>
      <p>В заключение попробую свести рекомендации по оценке трудоемкости проектов к нескольким пунктам:</p>
      <ol>
        <li>Тщательно описывайте рамки оцениваемого проекта, предположения и риски.</li>
        <li>Найдите, обучите квалифицированных оценщиков и боритесь с оптимизмом всех участников оценки.</li>
        <li>Хорошо оформите оценку и постоянно общайтесь со всеми стейкхолдерами.</li>
        <li>Проверяйте себя, используя чек-листы и помощь коллег.</li>
      </ol>
      <p>Качественная оценка — необходимое, но недостаточное условие успеха. Следование лучшим практикам управления проектом и изменениями на всех его стадиях абсолютно необходимы. При этом хорошо выполненная и структурированная оценка может сильно помочь в последующих проектных активностях. Надеюсь, что этот материал улучшит жизнь многим руководителям, проектам, командам и компаниям. Темы: <a href="https://dou.ua/lenta/tags/project%20management/">project management</a>, <a href="https://dou.ua/lenta/tags/%D0%BC%D0%B5%D0%BD%D0%B5%D0%B4%D0%B6%D0%BC%D0%B5%D0%BD%D1%82/">менеджмент</a>, <a href="https://dou.ua/lenta/tags/%D0%BE%D1%86%D0%B5%D0%BD%D0%BA%D0%B0/">оценка</a>, <a href="https://dou.ua/lenta/tags/%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82/">проект</a></p>
    </article>
  </body>
</html>